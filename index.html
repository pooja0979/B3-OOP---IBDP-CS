<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B3 Object-Oriented Programming â€” IB DP CS</title>
<script>
// â”€â”€â”€ Skulpt multi-CDN dynamic loader â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function () {
  var SKULPT_CDNS = [
    ['https://cdnjs.cloudflare.com/ajax/libs/skulpt/1.2.0/skulpt.min.js',
     'https://cdnjs.cloudflare.com/ajax/libs/skulpt/1.2.0/skulpt-stdlib.js'],
    ['https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js',
     'https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js'],
    ['https://unpkg.com/skulpt@1.2.0/dist/skulpt.min.js',
     'https://unpkg.com/skulpt@1.2.0/dist/skulpt-stdlib.js'],
  ];
  window._skulptReady = false;
  function loadScript(src) {
    return new Promise(function(resolve, reject) {
      var s = document.createElement('script');
      s.src = src; s.onload = resolve; s.onerror = reject;
      document.head.appendChild(s);
    });
  }
  function tryNext(i) {
    if (i >= SKULPT_CDNS.length) { window._skulptFailed = true; return; }
    loadScript(SKULPT_CDNS[i][0]).then(function() {
      return loadScript(SKULPT_CDNS[i][1]);
    }).then(function() {
      window._skulptReady = true;
    }).catch(function() {
      tryNext(i + 1);
    });
  }
  tryNext(0);
})();

// â”€â”€â”€ Stub functions (overwritten by full versions at page bottom) â”€â”€â”€
function runSB(id) {
  var out = document.getElementById(id + '-out');
  if (out) out.innerHTML = '<span style="color:#f9e2af">â–¸ Loading Python runner...</span>';
}
function runCode(id) {
  var out = document.getElementById(id + '-output');
  if (out) out.innerHTML = '<div class="output-label">â–¸ Loading Python runner...</div>';
}
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Caveat:wght@400;500;600;700&family=Nunito:ital,wght@0,400;0,600;0,700;1,400&display=swap');

:root {
  --ink: #1a1a2e;
  --red: #e94560;
  --blue: #0f4c75;
  --teal: #1b98e0;
  --green: #06d6a0;
  --yellow: #ffd166;
  --orange: #f4a261;
  --purple: #7b2d8b;
  --paper: #fefdf8;
  --lined: #e8e4da;
  --margin: #e07b7b;
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Nunito', sans-serif;
  background: #e8e0d0;
  color: var(--ink);
  min-height: 100vh;
}

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   CSS NAVIGATION SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.nav-radio { display: none; }
.section   { display: none; }

#r-home:checked    ~ .app #s-home    { display: block; }
#r-b31:checked     ~ .app #s-b31     { display: block; }
#r-b31p2:checked   ~ .app #s-b31p2   { display: block; }
#r-b31p3:checked   ~ .app #s-b31p3   { display: block; }
#r-b32:checked     ~ .app #s-b32     { display: block; }
#r-b32p2:checked   ~ .app #s-b32p2   { display: block; }
#r-b32p3:checked   ~ .app #s-b32p3   { display: block; }
#r-practice:checked~ .app #s-practice{ display: block; }

#n-encap:checked ~ .app #s-encap { display: block; }
#n-array:checked ~ .app #s-array { display: block; }
#n-duck:checked ~ .app #s-duck { display: block; }
#n-patterns:checked ~ .app #s-patterns { display: block; }
#n-uml:checked ~ .app #s-uml { display: block; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   HOME PAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
#s-home {
  min-height: 100vh;
  background: linear-gradient(145deg, #0a0a1a 0%, #1a1a2e 50%, #16213e 100%);
  position: relative;
  overflow: hidden;
  padding: 40px 20px;
}

/* Circuit board background pattern */
#s-home::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(27,152,224,0.07) 1px, transparent 1px),
    linear-gradient(90deg, rgba(27,152,224,0.07) 1px, transparent 1px);
  background-size: 40px 40px;
}

.home-content {
  position: relative;
  z-index: 2;
  max-width: 1100px;
  margin: 0 auto;
}

.home-badge {
  text-align: center;
  margin-bottom: 30px;
}

.course-tag {
  display: inline-block;
  background: linear-gradient(135deg, var(--red), #c0392b);
  color: white;
  font-family: 'Caveat', cursive;
  font-size: 18px;
  padding: 8px 22px;
  border-radius: 25px;
  letter-spacing: 2px;
  box-shadow: 0 4px 20px rgba(233,69,96,0.4);
  margin-bottom: 20px;
}

.home-title {
  font-family: 'Caveat', cursive;
  font-size: 68px;
  color: white;
  line-height: 1.1;
  text-shadow: 4px 4px 0 rgba(233,69,96,0.3);
  margin-bottom: 8px;
}

.home-title span { color: var(--teal); }

.home-sub {
  font-family: 'Nunito', sans-serif;
  font-size: 20px;
  color: #8892b0;
  margin-bottom: 10px;
}

.hours-pills {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-bottom: 40px;
  flex-wrap: wrap;
}

.pill {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.2);
  color: #ccd6f6;
  padding: 8px 20px;
  border-radius: 20px;
  font-size: 16px;
  font-family: 'Nunito', sans-serif;
}

.pill strong { color: var(--teal); }

/* Nav grid */
.nav-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  margin-bottom: 30px;
}

.nav-card {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 16px;
  padding: 24px 20px;
  cursor: pointer;
  transition: all 0.3s;
  backdrop-filter: blur(10px);
  text-align: center;
  position: relative;
  overflow: hidden;
}

.nav-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  border-radius: 16px 16px 0 0;
}

.nc-1::before { background: linear-gradient(90deg, #e94560, #f4a261); }
.nc-2::before { background: linear-gradient(90deg, #1b98e0, #06d6a0); }
.nc-3::before { background: linear-gradient(90deg, #7b2d8b, #e94560); }
.nc-4::before { background: linear-gradient(90deg, #ffd166, #f4a261); }

.nav-card:hover {
  background: rgba(255,255,255,0.12);
  transform: translateY(-6px);
  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
}

.nc-icon { font-size: 40px; margin-bottom: 12px; display: block; }
.nc-tag  { font-size: 13px; color: #64ffda; letter-spacing: 1px; margin-bottom: 6px; font-family: 'Nunito', sans-serif; }
.nc-title{ font-family: 'Caveat', cursive; font-size: 24px; color: white; margin-bottom: 8px; }
.nc-desc { font-size: 14px; color: #8892b0; line-height: 1.6; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   BONUS SECTION TOP NAV BAR (.topbar)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.topbar {
  background: var(--ink);
  padding: 12px 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.tbar-title {
  flex: 1;
  text-align: center;
  color: white;
  font-family: 'Caveat', cursive;
  font-size: 22px;
}

.tl {
  display: inline-block;
  padding: 8px 18px;
  border-radius: 8px;
  font-family: 'Nunito', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  color: white;
  text-decoration: none;
  transition: opacity 0.2s, transform 0.2s;
}
.tl:hover { opacity: 0.85; transform: translateY(-2px); }
.tl.home  { background: var(--red); }
.tl.back  { background: var(--blue); }
.tl.fwd   { background: #27ae60; }

/* Bonus section cards (Array, Duck, Patterns, UML) */
.nc {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 16px;
  padding: 24px 20px;
  cursor: pointer;
  transition: all 0.3s;
  backdrop-filter: blur(10px);
  text-align: center;
  position: relative;
  overflow: hidden;
}
.nc::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  border-radius: 16px 16px 0 0;
}
.nc:hover {
  background: rgba(255,255,255,0.12);
  transform: translateY(-6px);
  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
}
.c1::before { background: linear-gradient(90deg, #e94560, #f4a261); }
.c2::before { background: linear-gradient(90deg, #1b98e0, #06d6a0); }
.c3::before { background: linear-gradient(90deg, #7b2d8b, #e94560); }
.c4::before { background: linear-gradient(90deg, #ffd166, #f4a261); }

.home-features {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 14px;
  padding: 20px 28px;
  display: flex;
  gap: 30px;
  justify-content: center;
  flex-wrap: wrap;
}

.feat-item {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #a8b2d8;
  font-size: 15px;
}

.feat-icon { font-size: 22px; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   TOP NAVIGATION BAR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.top-nav {
  background: var(--ink);
  padding: 12px 20px;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.nav-btn {
  display: inline-block;
  padding: 8px 18px;
  border-radius: 8px;
  color: white;
  cursor: pointer;
  font-family: 'Kalam', cursive;
  font-size: 16px;
  user-select: none;
  transition: all 0.2s;
  white-space: nowrap;
}
.nav-btn:hover { opacity: 0.85; transform: translateY(-2px); }
.nb-home   { background: var(--red); }
.nb-back   { background: var(--blue); }
.nb-next   { background: #27ae60; }
.nb-title  { flex: 1; text-align: center; color: white; font-family: 'Caveat', cursive; font-size: 22px; }
.nb-lg     { font-size: 18px; padding: 12px 26px; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   NOTEBOOK PAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.page-wrap { padding: 20px; }

.nb-page {
  max-width: 980px;
  margin: 0 auto 28px;
  background: var(--paper);
  background-image:
    repeating-linear-gradient(
      transparent 0px, transparent 31px,
      #d4c9b8 31px, #d4c9b8 32px
    );
  background-position: 0 48px;
  padding: 40px 40px 60px 90px;
  position: relative;
  box-shadow: 4px 4px 20px rgba(0,0,0,0.15), -1px -1px 6px rgba(0,0,0,0.05);
  border-radius: 3px;
  min-height: 800px;
}

/* Red margin line */
.nb-page::before {
  content: '';
  position: absolute;
  left: 65px; top: 0; bottom: 0;
  width: 2px;
  background: rgba(224,123,123,0.6);
}

/* Spiral holes */
.nb-page::after {
  content: '';
  position: absolute;
  left: 20px; top: 0; bottom: 0;
  width: 30px;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px, transparent 78px,
    transparent 78px, transparent 88px,
    rgba(0,0,0,0.12) 88px, rgba(0,0,0,0.12) 108px,
    transparent 108px, transparent 120px
  );
}

.hole {
  position: absolute;
  left: 20px;
  width: 22px; height: 22px;
  background: #e8e0d0;
  border: 2px solid #9e8e78;
  border-radius: 50%;
  box-shadow: inset 0 2px 5px rgba(0,0,0,0.3);
}

.pnum {
  position: absolute;
  bottom: 18px; right: 28px;
  font-family: 'Caveat', cursive;
  font-size: 18px;
  color: #9e8e78;
}

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   TYPOGRAPHY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.page-title {
  font-family: 'Kalam', cursive;
  font-size: 42px;
  color: var(--ink);
  text-align: center;
  margin-bottom: 6px;
  text-decoration: underline;
  text-decoration-color: var(--red);
  text-underline-offset: 6px;
}

.page-sub {
  text-align: center;
  font-size: 16px;
  color: #7f8c8d;
  margin-bottom: 20px;
  font-style: italic;
}

h2 {
  font-family: 'Kalam', cursive;
  font-size: 30px;
  color: var(--blue);
  margin: 22px 0 10px;
  border-bottom: 2px solid var(--teal);
  padding-bottom: 4px;
  display: flex;
  align-items: center;
  gap: 8px;
}

h3 {
  font-family: 'Caveat', cursive;
  font-size: 25px;
  color: #27ae60;
  margin: 16px 0 8px;
}

p, li {
  font-size: 18px;
  line-height: 1.9;
  color: #2c3e50;
  margin-bottom: 8px;
}

ul { margin-left: 26px; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   COMPONENT BOXES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.box    { border: 2px solid #bdc3c7; padding:16px; margin:14px 0; border-radius:10px; background:rgba(255,255,255,0.8); }
.eg     { border: 2px dashed #e74c3c; padding:14px; margin:12px 0; background:#fff5f5; border-radius:8px; }
.note   { background:#d5f5e3; border-left:5px solid #27ae60; padding:12px 16px; margin:12px 0; border-radius:5px; }
.warn   { background:#fef9e7; border-left:5px solid #f39c12; padding:12px 16px; margin:12px 0; border-radius:5px; }
.info   { background:#d6eaf8; border-left:5px solid #2980b9; padding:12px 16px; margin:12px 0; border-radius:5px; }
.hl-box { background:linear-gradient(135deg,#fce4ec,#fce4ec); border-left:5px solid #e94560; padding:12px 16px; margin:12px 0; border-radius:5px; }
.hl     { background:#fff59d; padding:1px 5px; border-radius:3px; }
.kt     { color: var(--red); font-weight:700; font-family:'Caveat',cursive; font-size:22px; }
.kw     { color: var(--blue); font-weight:700; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   GRID LAYOUTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.two   { display:grid; grid-template-columns:1fr 1fr; gap:16px; margin:12px 0; }
.three { display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px; margin:12px 0; }
.four  { display:grid; grid-template-columns:1fr 1fr 1fr 1fr; gap:12px; margin:12px 0; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   CARD STYLES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.card { border-radius:12px; padding:16px; border:2px solid transparent; }
.c-red    { background:#fff0f0; border-color:#e74c3c; }
.c-blue   { background:#e8f4fd; border-color:#2980b9; }
.c-green  { background:#eafaf1; border-color:#27ae60; }
.c-purple { background:#f5eef8; border-color:#8e44ad; }
.c-orange { background:#fef9e7; border-color:#e67e22; }
.c-teal   { background:#e8f8f5; border-color:#17a589; }
.c-yellow { background:#fffde7; border-color:#f9a825; }
.card h3  { margin:0 0 8px; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   CODE BLOCKS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.code {
  background: #1e2130;
  color: #cdd6f4;
  padding: 16px;
  border-radius: 10px;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.8;
  overflow-x: auto;
  margin: 12px 0;
  border-left: 4px solid var(--teal);
  white-space: pre;
}

.ck  { color: #89b4fa; font-weight: bold; }
.cs  { color: #a6e3a1; }
.cc  { color: #585b70; font-style: italic; }
.cn  { color: #fab387; }
.cfu { color: #f38ba8; font-weight: bold; }
.cm  { color: #cba6f7; }
.cst { color: #f9e2af; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   TABLES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
table { width:100%; border-collapse:collapse; margin:12px 0; background:white; box-shadow:0 2px 8px rgba(0,0,0,0.08); border-radius:8px; overflow:hidden; }
th,td { border:1px solid #d5d8dc; padding:10px 14px; font-size:17px; text-align:left; }
th    { background: var(--blue); color:white; font-family:'Kalam',cursive; font-size:19px; }
tr:nth-child(even) { background:#f8f9fa; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   UML CLASS DIAGRAM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.uml {
  font-family: 'Courier New', monospace;
  border: 3px solid var(--blue);
  border-radius: 8px;
  overflow: hidden;
  display: inline-block;
  min-width: 220px;
  box-shadow: 4px 4px 12px rgba(0,0,0,0.15);
  margin: 10px;
}

.uml-name {
  background: var(--blue);
  color: white;
  padding: 10px 16px;
  font-weight: bold;
  font-size: 16px;
  text-align: center;
  font-family: 'Kalam', cursive;
  font-size: 20px;
}

.uml-section {
  border-top: 2px solid var(--blue);
  padding: 10px 16px;
  background: #f0f7ff;
  min-height: 40px;
}

.uml-item {
  font-size: 14px;
  padding: 3px 0;
  color: #2c3e50;
}

.uml-item .priv { color: #e74c3c; }
.uml-item .pub  { color: #27ae60; }
.uml-item .prot { color: #e67e22; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   TRACE TABLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.trace-container {
  background: white;
  border: 3px solid var(--blue);
  border-radius: 10px;
  overflow: hidden;
  margin: 14px 0;
}

.trace-title {
  background: var(--blue);
  color: white;
  padding: 10px 16px;
  font-family: 'Kalam', cursive;
  font-size: 20px;
}

.trace-table {
  width: 100%;
  border-collapse: collapse;
}

.trace-table th {
  background: #1b4f72;
  color: white;
  padding: 8px 12px;
  font-size: 15px;
  font-family: 'Courier New', monospace;
  text-align: center;
  border: 1px solid #2980b9;
}

.trace-table td {
  padding: 8px 12px;
  font-size: 14px;
  font-family: 'Courier New', monospace;
  text-align: center;
  border: 1px solid #d5d8dc;
  background: white;
}

.trace-table td input {
  width: 80px;
  padding: 4px 8px;
  border: 2px solid #bdc3c7;
  border-radius: 6px;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  text-align: center;
}

.trace-table td input.correct {
  border-color: #27ae60;
  background: #d5f5e3;
}

.trace-table td input.wrong {
  border-color: #e74c3c;
  background: #fdecea;
}

.trace-table tr.highlighted { background: #fff9c4 !important; }
.trace-table tr.highlighted td { background: #fff9c4; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   PYTHON SANDBOX
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.sandbox {
  border: 3px solid #27ae60;
  border-radius: 12px;
  overflow: hidden;
  margin: 16px 0;
  box-shadow: 0 4px 16px rgba(39,174,96,0.2);
}

.sandbox-header {
  background: #1e6b3a;
  color: white;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: space-between;
}

.sandbox-title {
  font-family: 'Kalam', cursive;
  font-size: 18px;
}

.sandbox-dots span {
  display: inline-block;
  width: 12px; height: 12px;
  border-radius: 50%;
  margin-right: 4px;
}

.sandbox-dots .d1 { background: #ff5f57; }
.sandbox-dots .d2 { background: #ffbd2e; }
.sandbox-dots .d3 { background: #28c841; }

.sandbox-editor {
  background: #1e2130;
  position: relative;
}

.code-editor {
  width: 100%;
  min-height: 200px;
  background: #1e2130;
  color: #cdd6f4;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.8;
  padding: 16px;
  border: none;
  outline: none;
  resize: vertical;
  tab-size: 4;
}

.sandbox-controls {
  background: #2a2e47;
  padding: 10px 16px;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.run-btn {
  background: linear-gradient(135deg, #27ae60, #2ecc71);
  color: white;
  border: none;
  padding: 10px 24px;
  border-radius: 8px;
  font-family: 'Kalam', cursive;
  font-size: 17px;
  cursor: pointer;
  transition: all 0.2s;
}

.run-btn:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(46,204,113,0.4); }

.reset-btn {
  background: #636e72;
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
  font-family: 'Kalam', cursive;
  font-size: 16px;
  cursor: pointer;
}

.sandbox-output {
  background: #0d1117;
  color: #79c0ff;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  padding: 14px 16px;
  min-height: 80px;
  border-top: 2px solid #27ae60;
  white-space: pre-wrap;
}

.output-label {
  color: #27ae60;
  font-weight: bold;
  margin-bottom: 6px;
  font-family: 'Kalam', cursive;
  font-size: 15px;
}

.output-error { color: #f38ba8; }
.output-ok    { color: #a6e3a1; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   QUIZ / MCQ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.qbox {
  background: #f0f8ff;
  border: 3px solid #2980b9;
  border-radius: 12px;
  padding: 18px;
  margin: 16px 0;
}

.qbox h3 { color: var(--ink); font-size: 20px; margin-bottom: 12px; }

.q-options label {
  display: block;
  padding: 10px 14px;
  margin: 7px 0;
  background: white;
  border: 2px solid #bdc3c7;
  border-radius: 8px;
  cursor: pointer;
  font-size: 17px;
  transition: all 0.15s;
}

.q-options label:hover { border-color: #2980b9; background: #e8f4fd; }
.q-options input[type=radio] { margin-right: 10px; }

.check-q-btn {
  background: var(--blue);
  color: white;
  border: none;
  padding: 10px 24px;
  border-radius: 8px;
  font-family: 'Kalam', cursive;
  font-size: 17px;
  cursor: pointer;
  margin-top: 10px;
  transition: all 0.2s;
}

.check-q-btn:hover { background: var(--teal); }

.q-feedback {
  padding: 12px 16px;
  border-radius: 8px;
  margin-top: 10px;
  font-size: 17px;
  display: none;
}

.q-feedback.show { display: block; }
.qf-ok  { background: #d5f5e3; color: #1e8449; border: 2px solid #27ae60; }
.qf-err { background: #fdecea; color: #922b21; border: 2px solid #e74c3c; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   REVEAL ANSWERS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.reveal-tog { display: none; }
.reveal-content { display: none; padding:14px 16px; border-radius:8px; margin-top:10px; font-size:18px; }
.reveal-tog:checked ~ .reveal-content { display: block; background:#d5f5e3; color:#1e8449; border:2px solid #27ae60; }
.reveal-lbl {
  display: inline-block;
  margin-top: 10px;
  padding: 10px 22px;
  background: #27ae60;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  font-family: 'Kalam', cursive;
  font-size: 17px;
  user-select: none;
}
.reveal-lbl:hover { background: #229954; }

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   FINISH BOX
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.finish-box {
  background: linear-gradient(135deg, #0f4c75, #1b98e0);
  color: white;
  border-radius: 14px;
  padding: 30px;
  text-align: center;
  margin: 25px 0;
}

.finish-box h2 { color: white; border: none; font-size: 34px; justify-content: center; }

/* Inheritance arrow */
.inherit-arrow {
  text-align: center;
  font-size: 30px;
  color: var(--blue);
  margin: 4px 0;
}

/* Score badge */
.score-badge {
  display: inline-block;
  background: var(--green);
  color: var(--ink);
  font-family: 'Caveat', cursive;
  font-size: 22px;
  padding: 6px 18px;
  border-radius: 20px;
  margin: 4px;
}

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   PRACTICE SECTION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.challenge-box {
  border: 3px solid var(--purple);
  border-radius: 12px;
  overflow: hidden;
  margin: 16px 0;
}

.challenge-header {
  background: var(--purple);
  color: white;
  padding: 12px 18px;
  font-family: 'Kalam', cursive;
  font-size: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.challenge-body { padding: 16px; }

.expected-output {
  background: #0d1117;
  color: #a6e3a1;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  padding: 12px;
  border-radius: 8px;
  margin: 10px 0;
  border-left: 4px solid #27ae60;
}

/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   BONUS SECTION STYLES (Array, Duck, Patterns, UML)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */

/* Grid layouts */
.g2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin: 14px 0; }
.g3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 14px; margin: 14px 0; }

/* Code blocks */
.cb, .cb2 {
  background: #1e2130;
  color: #cdd6f4;
  padding: 16px 18px;
  border-radius: 10px;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.8;
  white-space: pre;
  overflow-x: auto;
  margin: 12px 0;
  border-left: 4px solid var(--teal);
  display: block;
}
.cb { border-left-color: var(--teal); }
.cb2 { border-left-color: var(--purple); }

/* Code textarea (sandbox editor in bonus sections) */
.ce {
  width: 100%;
  min-height: 200px;
  background: #1e2130;
  color: #cdd6f4;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.8;
  padding: 16px;
  border: none;
  outline: none;
  resize: vertical;
  tab-size: 4;
  white-space: pre;
  display: block;
  box-sizing: border-box;
}

/* Sandbox components */
.sb {
  background: #1a1e2e;
  border-radius: 12px;
  overflow: hidden;
  margin: 16px 0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}
.sb-hd {
  background: #2d3250;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.sb-title {
  color: white;
  font-family: 'Nunito', sans-serif;
  font-size: 15px;
  font-weight: 600;
  flex: 1;
}
.dots { display: flex; gap: 6px; }
.dots span { width: 13px; height: 13px; border-radius: 50%; display: inline-block; }
.sb-ed { position: relative; }
.sb-ctrl {
  background: #2a2e47;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.sb-out {
  background: #0d1117;
  color: #a6e3a1;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  padding: 12px 16px;
  min-height: 50px;
  white-space: pre-wrap;
}

/* Buttons */
.rb {
  background: linear-gradient(135deg, #27ae60, #2ecc71);
  color: white;
  border: none;
  padding: 8px 20px;
  border-radius: 8px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: opacity 0.2s;
}
.rb:hover { opacity: 0.85; }
.rst {
  background: #636e7b;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 14px;
  cursor: pointer;
}
.sol {
  background: linear-gradient(135deg, #8e44ad, #9b59b6);
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 14px;
  cursor: pointer;
}
.mk-btn {
  background: #7c3aed;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
}

/* Info/callout boxes */
.bx {
  background: #eaf4fb;
  border-left: 5px solid var(--teal);
  padding: 14px 18px;
  border-radius: 8px;
  margin: 12px 0;
  font-size: 17px;
  line-height: 1.7;
}
.exam {
  background: #fef9e7;
  border: 2px solid #f39c12;
  padding: 14px 18px;
  border-radius: 8px;
  margin: 12px 0;
  font-size: 16px;
}
.exp {
  background: #1e2130;
  color: #a6e3a1;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  padding: 12px 16px;
  border-radius: 8px;
  margin: 10px 0;
  white-space: pre-wrap;
}

/* Challenge box */
.chal {
  border: 2px solid #e74c3c;
  border-radius: 12px;
  overflow: hidden;
  margin: 16px 0;
}
.chal-hd {
  background: #e74c3c;
  color: white;
  padding: 10px 16px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
}
.chal-bd { padding: 16px; }
.sol-box {
  background: #d5f5e3;
  border: 2px solid #27ae60;
  border-radius: 8px;
  padding: 14px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  white-space: pre-wrap;
}

/* Card variants */
.card.cb  { border-color: var(--teal); background: #e8f8f5; }
.card.cg  { border-color: var(--green); background: #f0fdf4; }
.card.cp  { border-color: var(--purple); background: #faf5ff; }
.card.co  { border-color: var(--orange); background: #fff8f0; }

/* Improve nb-page max-width for better code readability */
.nb-page { max-width: 1100px; }

/* Improve page-wrap for bonus sections */
.page-wrap { max-width: 1100px; margin: 0 auto; padding: 20px; }


/* â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   SL / HL LEVEL INDICATORS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
.sl-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  background: linear-gradient(135deg, #0f4c75, #1b98e0);
  color: white;
  font-family: 'Nunito', sans-serif;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 1.5px;
  padding: 3px 10px;
  border-radius: 20px;
  vertical-align: middle;
  margin-left: 6px;
}
.hl-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  background: linear-gradient(135deg, #7b2d8b, #c0392b);
  color: white;
  font-family: 'Nunito', sans-serif;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 1.5px;
  padding: 3px 10px;
  border-radius: 20px;
  vertical-align: middle;
  margin-left: 6px;
}
.sl-block {
  border-left: 5px solid #1b98e0;
  background: #eaf4fb;
  padding: 14px 18px;
  border-radius: 0 8px 8px 0;
  margin: 14px 0;
  position: relative;
}
.sl-block::before {
  content: 'SL';
  position: absolute;
  top: -10px; left: 12px;
  background: #1b98e0;
  color: white;
  font-size: 11px;
  font-weight: 700;
  padding: 2px 8px;
  border-radius: 10px;
  letter-spacing: 1px;
}
.hl-block {
  border-left: 5px solid #8e44ad;
  background: linear-gradient(135deg, #fce4ec 0%, #f8e8ff 100%);
  padding: 14px 18px;
  border-radius: 0 8px 8px 0;
  margin: 14px 0;
  position: relative;
}
.hl-block::before {
  content: 'HL';
  position: absolute;
  top: -10px; left: 12px;
  background: linear-gradient(135deg, #8e44ad, #c0392b);
  color: white;
  font-size: 11px;
  font-weight: 700;
  padding: 2px 8px;
  border-radius: 10px;
  letter-spacing: 1px;
}
.hl-only-banner {
  background: linear-gradient(135deg, #7b2d8b, #c0392b);
  color: white;
  text-align: center;
  padding: 12px;
  border-radius: 8px;
  font-weight: 700;
  font-size: 16px;
  letter-spacing: 2px;
  margin-bottom: 16px;
}
.level-strip {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 6px 0 14px;
  font-size: 14px;
  color: #636e7b;
}

   RESPONSIVE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” */
@media (max-width: 768px) {
  .nav-grid { grid-template-columns: 1fr 1fr; }
  .two, .three, .four { grid-template-columns: 1fr; }
  .nb-page { padding: 28px 18px 50px 70px; }
  .home-title { font-size: 44px; }
}
</style>
</head>
<body>

<!-- RADIO NAVIGATION INPUTS -->
<input type="radio" class="nav-radio" name="nav" id="r-home"     checked>
<input type="radio" class="nav-radio" name="nav" id="r-b31">
<input type="radio" class="nav-radio" name="nav" id="r-b31p2">
<input type="radio" class="nav-radio" name="nav" id="r-b31p3">
<input type="radio" class="nav-radio" name="nav" id="r-b32">
<input type="radio" class="nav-radio" name="nav" id="r-b32p2">
<input type="radio" class="nav-radio" name="nav" id="r-b32p3">
<input type="radio" class="nav-radio" name="nav" id="r-practice">
<input type="radio" class="nav-radio" name="nav" id="n-encap">

<input type="radio" class="nav-radio" name="nav" id="n-array">
<input type="radio" class="nav-radio" name="nav" id="n-duck">
<input type="radio" class="nav-radio" name="nav" id="n-patterns">
<input type="radio" class="nav-radio" name="nav" id="n-uml">

<div class="app">

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HOME PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-home" class="section">
<div id="s-home-inner">
  <div class="home-content">
    <div class="home-badge">
      <div class="course-tag">â˜… IB DP COMPUTER SCIENCE â˜…</div>
      <div class="home-title">B3 Object-Oriented<br><span>Programming</span></div>
      <div class="home-sub">Theme B: Computational Thinking &amp; Problem-Solving</div>
    </div>

    <div class="hours-pills">
      <div class="pill">ğŸ“š B3.1 OOP Concepts <strong>SL+HL</strong></div>
      <div class="pill">ğŸ”· B3.2 Classes &amp; Objects <strong>SL+HL</strong></div>
      <div class="pill">â± SL: <strong>7 hours</strong></div>
      <div class="pill">â± HL: <strong>23 hours</strong></div>
    </div>

    <div class="nav-grid">
      <label for="r-b31" class="nav-card nc-1">
        <span class="nc-icon">ğŸ§©</span>
        <div class="nc-tag">B3.1 â€” Part 1</div>
        <div class="nc-title">OOP Fundamentals</div>
        <div class="nc-desc">Abstraction, encapsulation, inheritance, polymorphism. What is OOP and why does it matter?</div>
      </label>
      <label for="r-b31p2" class="nav-card nc-1">
        <span class="nc-icon">ğŸ”—</span>
        <div class="nc-tag">B3.1 â€” Part 2</div>
        <div class="nc-title">Inheritance &amp; Polymorphism</div>
        <div class="nc-desc">Superclass, subclass, method overriding. With UML diagrams and Python examples.</div>
      </label>
      <label for="r-b32" class="nav-card nc-2">
        <span class="nc-icon">ğŸ“¦</span>
        <div class="nc-tag">B3.2 â€” Part 1</div>
        <div class="nc-title">Classes &amp; Objects</div>
        <div class="nc-desc">__init__, attributes, methods, self. How to design and build Python classes from scratch.</div>
      </label>
      <label for="r-b32p2" class="nav-card nc-2">
        <span class="nc-icon">âš™ï¸</span>
        <div class="nc-tag">B3.2 â€” Part 2</div>
        <div class="nc-title">Methods &amp; Access</div>
        <div class="nc-desc">Getters, setters, static methods, access modifiers. Designing well-encapsulated classes.</div>
      </label>
      <label for="r-b31p3" class="nav-card nc-3">
        <span class="nc-icon">ğŸ“Š</span>
        <div class="nc-tag">B3.1 â€” Part 3</div>
        <div class="nc-title">Trace Tables</div>
        <div class="nc-desc">Auto-marked OOP trace tables. Track objects, attributes and method calls step by step.</div>
      </label>
      <label for="r-b32p3" class="nav-card nc-3">
        <span class="nc-icon">ğŸ</span>
        <div class="nc-tag">B3.2 â€” Part 3</div>
        <div class="nc-title">Python Sandbox</div>
        <div class="nc-desc">Run live Python code in your browser! Guided exercises with auto-checking.</div>
      </label>
      <label for="r-practice" class="nav-card nc-4">
        <span class="nc-icon">âœï¸</span>
        <div class="nc-tag">ALL TOPICS</div>
        <div class="nc-title">Practice &amp; Mark Scheme</div>
        <div class="nc-desc">IB-style questions with full mark schemes, coding challenges, and auto-marking.</div>
      </label>

    <label for="n-encap" class="nc c1">
      <span class="nc-icon">ğŸ”’</span>
      <div class="nc-tag">B3.1 â€” DEEP DIVE</div>
      <div class="nc-title">Encapsulation</div>
      <div class="nc-desc">Access modifiers, getters &amp; setters, name mangling. SL + HL topics clearly labelled.</div>
    </label>
    <label for="n-array" class="nc c2">
      <span class="nc-icon">ğŸ“š</span>
      <div class="nc-tag">B3.2 â€” ARRAYS</div>
      <div class="nc-title">Array of Objects</div>
      <div class="nc-desc">SL Topic â€” Managing collections, bulk operations, filtering. Inventory system example.</div>
    </label>
    <label for="n-duck" class="nc c3">
      <span class="nc-icon">ğŸ¦†</span>
      <div class="nc-tag">B3.2 â€” POLYMORPHISM</div>
      <div class="nc-title">Duck Typing</div>
      <div class="nc-desc">Python's dynamic approach to polymorphism. Payment system demo with no inheritance.</div>
    </label>
    <label for="n-patterns" class="nc c1" style="position:relative">
      <div style="position:absolute;top:8px;right:8px;background:#e63946;color:#fff;padding:3px 8px;border-radius:12px;font-size:10px;font-weight:bold">HL ONLY</div>
      <span class="nc-icon">ğŸ—ï¸</span>
      <div class="nc-tag">B3.2.5 â€” HL DESIGN PATTERNS</div>
      <div class="nc-title">Singleton, Factory, Observer</div>
      <div class="nc-desc">HL ONLY â€” Professional design patterns with UML diagrams and Python implementations.</div>
    </label>
    <label for="n-uml" class="nc c4">
      <span class="nc-icon">ğŸ“</span>
      <div class="nc-tag">ALL TOPICS</div>
      <div class="nc-title">UML Relationships</div>
      <div class="nc-desc">Complete guide: inheritance, association, aggregation, composition, dependency, realization.</div>
    </label>
  </div><!-- /.nav-grid -->

    <div class="home-features">
      <div class="feat-item"><span class="feat-icon">ğŸ</span> Live Python Sandbox</div>
      <div class="feat-item"><span class="feat-icon">ğŸ“Š</span> Auto-marked Trace Tables</div>
      <div class="feat-item"><span class="feat-icon">âœ…</span> IB-Style MCQ</div>
      <div class="feat-item"><span class="feat-icon">ğŸ“</span> UML Diagrams</div>
      <div class="feat-item"><span class="feat-icon">ğŸ’¡</span> Worked Examples</div>
      <div class="feat-item"><span class="feat-icon">ğŸ…</span> Mark Schemes</div>
    </div>
  </div><!-- /.home-content -->
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     B3.1 PAGE 1 â€” OOP Fundamentals
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-b31" class="section">
  <div class="top-nav">
    <label for="r-home"  class="nav-btn nb-home">ğŸ  Home</label>
    <span class="nb-title">ğŸ§© B3.1 â€” OOP Fundamentals</span>
    <label for="r-b31p2" class="nav-btn nb-next">Next: Inheritance â†’</label>
  </div>
  <div class="page-wrap">

  <!-- â”€â”€â”€ Page 1: What is OOP? â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ§© What is OOP?</div>
    <div class="page-sub">B3.1.1 â€” Object-Oriented Programming Paradigm</div>

    <div class="box">
      <p><span class="kt">OOP (Object-Oriented Programming)</span> is a <span class="hl">programming paradigm</span> that organises code around <strong>objects</strong> rather than functions and logic. Objects bundle together <strong>data (attributes)</strong> and <strong>behaviours (methods)</strong>.</p>
    </div>

    <h2>âš¡ OOP vs Procedural Programming</h2>
    <div class="two">
      <div class="card c-orange">
        <h3>ğŸ“œ Procedural (old way)</h3>
        <p>Code is a list of step-by-step instructions. Data and functions are <strong>separate</strong>.</p>
        <div class="code"><span class="cc"># Procedural approach</span>
student_name = <span class="cs">"Alice"</span>
student_grade = <span class="cn">85</span>

<span class="ck">def</span> <span class="cfu">print_student</span>(name, grade):
    <span class="ck">print</span>(<span class="cst">f"</span>{name}<span class="cst">: </span>{grade}<span class="cst">"</span>)</div>
        <p style="font-size:16px">Problems: hard to manage in large programs, data not protected</p>
      </div>
      <div class="card c-green">
        <h3>ğŸ“¦ OOP (modern way)</h3>
        <p>Data and behaviour are <strong>bundled</strong> together into objects. Code is modular and reusable.</p>
        <div class="code"><span class="cc"># OOP approach</span>
<span class="ck">class</span> <span class="cm">Student</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, grade):
        <span class="ck">self</span>.name = name
        <span class="ck">self</span>.grade = grade

    <span class="ck">def</span> <span class="cfu">display</span>(<span class="ck">self</span>):
        <span class="ck">print</span>(<span class="cst">f"</span>{<span class="ck">self</span>.name}<span class="cst">: </span>{<span class="ck">self</span>.grade}<span class="cst">"</span>)</div>
        <p style="font-size:16px">Benefits: organised, reusable, easy to extend</p>
      </div>
    </div>

    <h2>ğŸ›ï¸ The Four Pillars of OOP</h2>

    <!-- Visual: 4 Pillars as columns -->
    <svg viewBox="0 0 860 200" xmlns="http://www.w3.org/2000/svg" style="font-family:'Kalam',cursive;width:100%;max-width:860px;margin:12px 0">
      <!-- Base platform -->
      <rect x="10" y="165" width="840" height="25" rx="5" fill="#1a1a2e"/>
      <text x="430" y="183" text-anchor="middle" font-size="18" fill="white">ğŸ›ï¸  Object-Oriented Programming</text>
      <!-- Pillar 1: Encapsulation -->
      <rect x="30" y="30" width="190" height="135" rx="8" fill="#fff0f0" stroke="#e74c3c" stroke-width="3"/>
      <rect x="30" y="30" width="190" height="40" rx="8" fill="#e74c3c"/>
      <text x="125" y="57" text-anchor="middle" font-size="19" fill="white" font-weight="bold">Encapsulation</text>
      <text x="125" y="90" text-anchor="middle" font-size="14" fill="#2c3e50">Bundling data +</text>
      <text x="125" y="108" text-anchor="middle" font-size="14" fill="#2c3e50">methods together</text>
      <text x="125" y="126" text-anchor="middle" font-size="14" fill="#2c3e50">Hiding internals</text>
      <text x="125" y="148" text-anchor="middle" font-size="22">ğŸ”’</text>
      <!-- Pillar 2: Abstraction -->
      <rect x="235" y="30" width="190" height="135" rx="8" fill="#e8f4fd" stroke="#2980b9" stroke-width="3"/>
      <rect x="235" y="30" width="190" height="40" rx="8" fill="#2980b9"/>
      <text x="330" y="57" text-anchor="middle" font-size="19" fill="white" font-weight="bold">Abstraction</text>
      <text x="330" y="90" text-anchor="middle" font-size="14" fill="#2c3e50">Show only</text>
      <text x="330" y="108" text-anchor="middle" font-size="14" fill="#2c3e50">what's needed</text>
      <text x="330" y="126" text-anchor="middle" font-size="14" fill="#2c3e50">Hide complexity</text>
      <text x="330" y="148" text-anchor="middle" font-size="22">ğŸ­</text>
      <!-- Pillar 3: Inheritance -->
      <rect x="440" y="30" width="190" height="135" rx="8" fill="#eafaf1" stroke="#27ae60" stroke-width="3"/>
      <rect x="440" y="30" width="190" height="40" rx="8" fill="#27ae60"/>
      <text x="535" y="57" text-anchor="middle" font-size="19" fill="white" font-weight="bold">Inheritance</text>
      <text x="535" y="90" text-anchor="middle" font-size="14" fill="#2c3e50">Child classes</text>
      <text x="535" y="108" text-anchor="middle" font-size="14" fill="#2c3e50">inherit from</text>
      <text x="535" y="126" text-anchor="middle" font-size="14" fill="#2c3e50">parent classes</text>
      <text x="535" y="148" text-anchor="middle" font-size="22">ğŸ§¬</text>
      <!-- Pillar 4: Polymorphism -->
      <rect x="645" y="30" width="205" height="135" rx="8" fill="#f3e5f5" stroke="#8e44ad" stroke-width="3"/>
      <rect x="645" y="30" width="205" height="40" rx="8" fill="#8e44ad"/>
      <text x="747" y="57" text-anchor="middle" font-size="19" fill="white" font-weight="bold">Polymorphism</text>
      <text x="747" y="90" text-anchor="middle" font-size="14" fill="#2c3e50">Same method</text>
      <text x="747" y="108" text-anchor="middle" font-size="14" fill="#2c3e50">name, different</text>
      <text x="747" y="126" text-anchor="middle" font-size="14" fill="#2c3e50">behaviour</text>
      <text x="747" y="148" text-anchor="middle" font-size="22">ğŸ¨</text>
    </svg>

    <div class="pnum">B3.1 â€” Page 1</div>
  </div>

  <!-- â”€â”€â”€ Page 2: Four Pillars Deep Dive â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ”’ Encapsulation &amp; Abstraction</div>

    <h2>ğŸ”’ Encapsulation</h2>
    <div class="box">
      <p><span class="kt">Encapsulation</span> = bundling <span class="hl">data (attributes) + behaviour (methods)</span> into a single unit (class), and <strong>restricting direct access</strong> to internal data from outside the class.</p>
    </div>

    <div class="two">
      <div>
        <h3>Real-world analogy:</h3>
        <div class="eg">
          <p>ğŸ§ <strong>ATM Machine</strong> â€” You use buttons to withdraw cash. You <em>cannot</em> directly access the cash vault or internal systems. The interface (buttons) is public; the implementation (vault mechanism) is private.</p>
        </div>
        <div class="code"><span class="ck">class</span> <span class="cm">BankAccount</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, balance):
        <span class="cc"># Private attribute</span>
        <span class="ck">self</span>.__balance = balance

    <span class="ck">def</span> <span class="cfu">deposit</span>(<span class="ck">self</span>, amount):
        <span class="ck">if</span> amount > <span class="cn">0</span>:
            <span class="ck">self</span>.__balance += amount

    <span class="ck">def</span> <span class="cfu">get_balance</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__balance

<span class="cc"># Cannot access __balance directly</span>
acc = <span class="cm">BankAccount</span>(<span class="cn">1000</span>)
acc.deposit(<span class="cn">500</span>)
<span class="ck">print</span>(acc.get_balance())  <span class="cc"># 1500</span></div>
      </div>
      <div>
        <h3>Access Modifiers in Python:</h3>
        <table>
          <tr><th>Syntax</th><th>Type</th><th>Accessible from?</th></tr>
          <tr><td><code>name</code></td><td>Public</td><td>Anywhere</td></tr>
          <tr><td><code>_name</code></td><td>Protected</td><td>Class + subclasses</td></tr>
          <tr><td><code>__name</code></td><td>Private</td><td>Class only</td></tr>
        </table>
        <div class="note">
          <strong>ğŸ’¡ IB Exam Note:</strong> In Python, privacy is by <em>convention</em>. The double underscore (__) triggers name mangling (makes it harder to access), but doesn't truly block access like Java/C++.
        </div>
        <div class="warn">
          <strong>âš ï¸ Why encapsulate?</strong>
          <ul style="font-size:16px;margin-top:6px">
            <li>Prevents accidental data corruption</li>
            <li>Controls how data is modified (validation)</li>
            <li>Internal implementation can change without breaking external code</li>
          </ul>
        </div>
      </div>
    </div>

    <h2>ğŸ­ Abstraction</h2>
    <div class="two">
      <div class="box">
        <p><span class="kt">Abstraction</span> = showing only the <span class="hl">essential features</span> and hiding unnecessary implementation details. Users interact with a <strong>simplified interface</strong>.</p>
        <div class="eg">
          <p>ğŸš— <strong>Car analogy:</strong> You press the accelerator to go faster. You don't need to know about fuel injection, engine timing, throttle body mechanics. The complexity is <em>abstracted away</em>.</p>
        </div>
      </div>
      <div class="code"><span class="cc"># Abstraction example</span>
<span class="ck">class</span> <span class="cm">EmailService</span>:
    <span class="ck">def</span> <span class="cfu">send</span>(<span class="ck">self</span>, to, subject, body):
        <span class="cc"># User calls this simple method</span>
        <span class="cc"># Internally: connect to SMTP,</span>
        <span class="cc"># authenticate, encode message,</span>
        <span class="cc"># handle retries, log, etc.</span>
        <span class="ck">self</span>.__connect_smtp()
        <span class="ck">self</span>.__authenticate()
        <span class="ck">self</span>.__send_packet(to, subject, body)
        <span class="ck">self</span>.__close()

    <span class="ck">def</span> <span class="cfu">__connect_smtp</span>(<span class="ck">self</span>): ...
    <span class="ck">def</span> <span class="cfu">__authenticate</span>(<span class="ck">self</span>): ...

<span class="cc"># User only sees the simple interface:</span>
email = <span class="cm">EmailService</span>()
email.send(<span class="cs">"<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="75171a173518141c195b161a18">[email&#160;protected]</a>"</span>, <span class="cs">"Hi"</span>, <span class="cs">"Hello!"</span>)</div>
    </div>

    <!-- MCQ -->
    <div class="qbox">
      <h3>â“ Quick Check: Which pillar hides complexity from the user?</h3>
      <div class="q-options">
        <label><input type="radio" name="q_pillar" value="a"> Encapsulation â€” bundling data and methods</label>
        <label><input type="radio" name="q_pillar" value="b"> Abstraction â€” hiding unnecessary details</label>
        <label><input type="radio" name="q_pillar" value="c"> Inheritance â€” child class from parent</label>
        <label><input type="radio" name="q_pillar" value="d"> Polymorphism â€” same name, different behaviour</label>
      </div>
      <button class="check-q-btn" onclick="checkMCQ('q_pillar','b','q_pillar_fb','Correct! Abstraction hides complexity. Encapsulation bundles things together â€” they work together but serve different purposes.')">Check Answer</button>
      <div class="q-feedback" id="q_pillar_fb"></div>
    </div>

    <div class="pnum">B3.1 â€” Page 2</div>
  </div>

  <!-- â”€â”€â”€ Page 3: Python Sandbox for Encapsulation â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ Practice: Encapsulation</div>
    <div class="page-sub">Run Python code directly in your browser!</div>

    <!-- Sandbox 1: Try encapsulation -->
    <div class="sandbox" id="sb1">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">ğŸ”¬ Explore: Try accessing a private attribute</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb1-code">class BankAccount:
    def __init__(self, owner, balance):
        self.owner = owner       # public
        self._bank = "IBDP Bank" # protected
        self.__balance = balance  # private

    def deposit(self, amount):
        if amount > 0:
            self.__balance += amount
            print(f"Deposited ${amount}. New balance: ${self.__balance}")
        else:
            print("Amount must be positive!")

    def get_balance(self):
        return self.__balance

# Create an account
acc = BankAccount("Alice", 1000)
print("Owner:", acc.owner)          # âœ… public - works
print("Bank:", acc._bank)           # âš ï¸ protected - works but not recommended

# Try the correct way - through methods
acc.deposit(500)
print("Balance:", acc.get_balance())

# CHALLENGE: Try to access acc.__balance directly below
# What happens?
print(acc.__balance)  # Try this!</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb1')">â–¶ Run Code</button>
        <button class="reset-btn" onclick="resetCode('sb1', 'default1')">â†º Reset</button>
        <span style="color:#a8b2d8;font-size:14px">ğŸ“Œ Notice the AttributeError for private attributes!</span>
      </div>
      <div class="sandbox-output" id="sb1-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div class="info">
      <strong>ğŸ’¡ What happened?</strong> Accessing <code>acc.__balance</code> throws an <code>AttributeError</code>! Python name-mangles it to <code>acc._BankAccount__balance</code>. This demonstrates encapsulation â€” direct access is discouraged/prevented.
    </div>

    <!-- Sandbox 2: Build your own -->
    <div class="challenge-box">
      <div class="challenge-header">
        <span>ğŸ†</span>
        <span>Challenge 1 â€” Build a Student class with encapsulation</span>
      </div>
      <div class="challenge-body">
        <p>Create a <code>Student</code> class with:</p>
        <ul style="font-size:17px;margin:10px 0 10px 20px">
          <li>Private attribute <code>__grade</code> (integer 0-100)</li>
          <li>Public attribute <code>name</code></li>
          <li>Method <code>set_grade(g)</code> â€” validates 0 â‰¤ g â‰¤ 100, then sets it</li>
          <li>Method <code>get_grade()</code> â€” returns the grade</li>
          <li>Method <code>get_letter()</code> â€” returns A/B/C/D/F based on grade</li>
        </ul>
        <div class="expected-output"># Expected output:
Alice - Grade: 87 - Letter: B
Cannot set grade: out of range!
Alice - Grade: 87 - Letter: B</div>
      </div>
    </div>

    <div class="sandbox" id="sb2">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">âœï¸ Your Code Here</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb2-code">class Student:
    def __init__(self, name, grade):
        self.name = name
        # TODO: Store grade as private attribute
        
    def set_grade(self, g):
        # TODO: Validate 0 <= g <= 100, then set __grade
        pass
    
    def get_grade(self):
        # TODO: Return the private grade
        pass
    
    def get_letter(self):
        # TODO: Return A(90+), B(80+), C(70+), D(60+), F(below 60)
        pass

# Test your class:
s = Student("Alice", 87)
print(f"{s.name} - Grade: {s.get_grade()} - Letter: {s.get_letter()}")
s.set_grade(105)  # Should print error message
print(f"{s.name} - Grade: {s.get_grade()} - Letter: {s.get_letter()}")</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb2')">â–¶ Run Code</button>
        <button class="reset-btn" onclick="resetCode('sb2', 'challenge1')">â†º Reset</button>
        <button class="run-btn" style="background:linear-gradient(135deg,#8e44ad,#9b59b6)" onclick="showSolution('sol1')">ğŸ’¡ Show Solution</button>
      </div>
      <div class="sandbox-output" id="sb2-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div id="sol1" style="display:none">
      <div class="code"><span class="cc"># SOLUTION</span>
<span class="ck">class</span> <span class="cm">Student</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, grade):
        <span class="ck">self</span>.name = name
        <span class="ck">self</span>.__grade = grade

    <span class="ck">def</span> <span class="cfu">set_grade</span>(<span class="ck">self</span>, g):
        <span class="ck">if</span> <span class="cn">0</span> <= g <= <span class="cn">100</span>:
            <span class="ck">self</span>.__grade = g
        <span class="ck">else</span>:
            <span class="ck">print</span>(<span class="cs">"Cannot set grade: out of range!"</span>)

    <span class="ck">def</span> <span class="cfu">get_grade</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__grade

    <span class="ck">def</span> <span class="cfu">get_letter</span>(<span class="ck">self</span>):
        <span class="ck">if</span> <span class="ck">self</span>.__grade >= <span class="cn">90</span>: <span class="ck">return</span> <span class="cs">"A"</span>
        <span class="ck">elif</span> <span class="ck">self</span>.__grade >= <span class="cn">80</span>: <span class="ck">return</span> <span class="cs">"B"</span>
        <span class="ck">elif</span> <span class="ck">self</span>.__grade >= <span class="cn">70</span>: <span class="ck">return</span> <span class="cs">"C"</span>
        <span class="ck">elif</span> <span class="ck">self</span>.__grade >= <span class="cn">60</span>: <span class="ck">return</span> <span class="cs">"D"</span>
        <span class="ck">else</span>: <span class="ck">return</span> <span class="cs">"F"</span></div>
    </div>

    <div class="pnum">B3.1 â€” Page 3</div>
  </div>

  <!-- Bottom nav -->
  <div style="max-width:980px;margin:0 auto;padding:10px 0 30px;text-align:center;display:flex;gap:12px;justify-content:center">
    <label for="r-home"  class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b31p2" class="nav-btn nb-next nb-lg">ğŸ”— Next: Inheritance &amp; Polymorphism â†’</label>
  </div>

  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     B3.1 PAGE 2 â€” Inheritance & Polymorphism
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-b31p2" class="section">
  <div class="top-nav">
    <label for="r-home" class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b31"  class="nav-btn nb-back">â† OOP Basics</label>
    <span class="nb-title">ğŸ”— B3.1 â€” Inheritance &amp; Polymorphism</span>
    <label for="r-b31p3" class="nav-btn nb-next">Next: Trace Tables â†’</label>
  </div>
  <div class="page-wrap">

  <!-- â”€â”€â”€ Inheritance page â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ§¬ Inheritance</div>

    <div class="box">
      <p><span class="kt">Inheritance</span> = a child class (subclass) <span class="hl">inherits attributes and methods</span> from a parent class (superclass). It models an <strong>"is-a" relationship</strong>.</p>
    </div>

    <div class="two">
      <div>
        <h3>ğŸŒ³ Hierarchy Example:</h3>
        <!-- UML Inheritance Diagram -->
        <div style="text-align:center;margin:10px 0">
          <div class="uml" style="display:inline-block;min-width:200px">
            <div class="uml-name">Animal</div>
            <div class="uml-section">
              <div class="uml-item"><span class="pub">+</span> name: String</div>
              <div class="uml-item"><span class="pub">+</span> age: int</div>
            </div>
            <div class="uml-section">
              <div class="uml-item"><span class="pub">+</span> eat()</div>
              <div class="uml-item"><span class="pub">+</span> sleep()</div>
              <div class="uml-item"><span class="pub">+</span> speak() ğŸ”„</div>
            </div>
          </div>
          <div class="inherit-arrow">â–³<br>â”‚</div>
          <div style="display:flex;gap:20px;justify-content:center">
            <div class="uml" style="min-width:160px">
              <div class="uml-name" style="background:#27ae60">Dog</div>
              <div class="uml-section">
                <div class="uml-item"><span class="pub">+</span> breed: String</div>
              </div>
              <div class="uml-section">
                <div class="uml-item"><span class="pub">+</span> fetch()</div>
                <div class="uml-item"><span class="pub">+</span> speak() ğŸ”„</div>
              </div>
            </div>
            <div class="uml" style="min-width:160px">
              <div class="uml-name" style="background:#8e44ad">Cat</div>
              <div class="uml-section">
                <div class="uml-item"><span class="pub">+</span> indoor: bool</div>
              </div>
              <div class="uml-section">
                <div class="uml-item"><span class="pub">+</span> purr()</div>
                <div class="uml-item"><span class="pub">+</span> speak() ğŸ”„</div>
              </div>
            </div>
          </div>
          <p style="font-size:14px;color:#7f8c8d;margin-top:6px">â–³ = inherits from (open arrowhead points to parent)</p>
        </div>
      </div>
      <div>
        <h3>Python Implementation:</h3>
        <div class="code"><span class="ck">class</span> <span class="cm">Animal</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, age):
        <span class="ck">self</span>.name = name
        <span class="ck">self</span>.age = age

    <span class="ck">def</span> <span class="cfu">eat</span>(<span class="ck">self</span>):
        <span class="ck">print</span>(<span class="cst">f"</span>{<span class="ck">self</span>.name}<span class="cst"> is eating"</span>)

    <span class="ck">def</span> <span class="cfu">speak</span>(<span class="ck">self</span>):
        <span class="ck">print</span>(<span class="cs">"..."</span>)


<span class="ck">class</span> <span class="cm">Dog</span>(<span class="cm">Animal</span>):    <span class="cc"># Dog IS-A Animal</span>
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, age, breed):
        <span class="ck">super</span>().__init__(name, age)  <span class="cc"># call parent</span>
        <span class="ck">self</span>.breed = breed

    <span class="ck">def</span> <span class="cfu">speak</span>(<span class="ck">self</span>):            <span class="cc"># override</span>
        <span class="ck">print</span>(<span class="cs">"Woof!"</span>)

    <span class="ck">def</span> <span class="cfu">fetch</span>(<span class="ck">self</span>):
        <span class="ck">print</span>(<span class="cst">f"</span>{<span class="ck">self</span>.name}<span class="cst"> fetches!"</span>)


<span class="ck">class</span> <span class="cm">Cat</span>(<span class="cm">Animal</span>):    <span class="cc"># Cat IS-A Animal</span>
    <span class="ck">def</span> <span class="cfu">speak</span>(<span class="ck">self</span>):            <span class="cc"># override</span>
        <span class="ck">print</span>(<span class="cs">"Meow!"</span>)</div>
        <div class="note">
          <strong>ğŸ”‘ Key terms:</strong>
          <ul style="font-size:15px;margin-top:4px">
            <li><code>super()</code> â€” calls the parent class constructor</li>
            <li><strong>Override</strong> â€” redefine a method in child class</li>
            <li><strong>is-a</strong> â€” Dog is-a Animal (correct use of inheritance)</li>
          </ul>
        </div>
      </div>
    </div>

    <h2>ğŸ¨ Polymorphism</h2>
    <div class="box">
      <p><span class="kt">Polymorphism</span> = "many forms". The same method name behaves <span class="hl">differently depending on the object</span> type that calls it.</p>
    </div>

    <div class="two">
      <div class="code"><span class="cc"># Polymorphism in action</span>
animals = [
    <span class="cm">Dog</span>(<span class="cs">"Rex"</span>, <span class="cn">3</span>, <span class="cs">"Labrador"</span>),
    <span class="cm">Cat</span>(<span class="cs">"Whiskers"</span>, <span class="cn">2</span>),
    <span class="cm">Animal</span>(<span class="cs">"Bird"</span>, <span class="cn">1</span>),
]

<span class="ck">for</span> animal <span class="ck">in</span> animals:
    animal.speak()    <span class="cc"># same call!</span>

<span class="cc"># Output:</span>
<span class="cc"># Woof!</span>
<span class="cc"># Meow!</span>
<span class="cc"># ...</span></div>
      <div>
        <div class="eg">
          <p>ğŸ¨ <strong>Analogy:</strong> The word "draw" means different things to different people:<br>
          â€¢ An <strong>artist</strong> draws a painting<br>
          â€¢ A <strong>card player</strong> draws a card<br>
          â€¢ A <strong>cowboy</strong> draws a gun<br><br>
          Same word (<em>method name</em>), different behaviour depending on <em>context (object type)</em>!</p>
        </div>
        <div class="note">
          <strong>âœ… Benefits of Polymorphism:</strong>
          <ul style="font-size:16px;margin-top:6px">
            <li>Code is flexible and extensible</li>
            <li>Add new subclasses without changing existing code</li>
            <li>Use a single loop to handle different object types</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Sandbox: Inheritance + Polymorphism -->
    <div class="sandbox" id="sb3">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">ğŸ”¬ Run It: Inheritance &amp; Polymorphism</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb3-code">class Animal:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def eat(self):
        print(f"{self.name} is eating")
    
    def speak(self):
        print(f"{self.name} makes a sound")

class Dog(Animal):
    def __init__(self, name, age, breed):
        super().__init__(name, age)
        self.breed = breed
    
    def speak(self):
        print(f"{self.name} says: Woof!")
    
    def fetch(self):
        print(f"{self.name} fetches the ball!")

class Cat(Animal):
    def __init__(self, name, age):
        super().__init__(name, age)
    
    def speak(self):
        print(f"{self.name} says: Meow!")

# Polymorphism demo
animals = [Dog("Rex", 3, "Labrador"), Cat("Luna", 2), Dog("Buddy", 1, "Poodle")]

print("=== Polymorphism Demo ===")
for a in animals:
    a.speak()

print("\n=== Inherited method ===")
for a in animals:
    a.eat()  # inherited from Animal!

print("\n=== isinstance() check ===")
for a in animals:
    print(f"{a.name}: Dog? {isinstance(a, Dog)} | Animal? {isinstance(a, Animal)}")</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb3')">â–¶ Run Code</button>
      </div>
      <div class="sandbox-output" id="sb3-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div class="pnum">B3.1 â€” Page 4</div>
  </div>

  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     B3.1 PAGE 3 â€” Trace Tables
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-b31p3" class="section">
  <div class="top-nav">
    <label for="r-home"  class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b31p2" class="nav-btn nb-back">â† Inheritance</label>
    <span class="nb-title">ğŸ“Š B3.1 â€” OOP Trace Tables</span>
    <label for="r-b32"   class="nav-btn nb-next">Next: Classes â†’</label>
  </div>
  <div class="page-wrap">

  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ“Š OOP Trace Tables</div>
    <div class="page-sub">Track objects, attributes and method calls â€” auto-marked!</div>

    <div class="info">
      <strong>ğŸ“Œ How to trace OOP code:</strong> For each step, track: (1) current line executing, (2) which object is involved, (3) current state of each attribute, (4) any output printed.
    </div>

    <h2>ğŸ” Trace Table Exercise 1</h2>
    <p>Study this code carefully, then complete the trace table:</p>

    <div class="code"><span class="ck">class</span> <span class="cm">Counter</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, start):
        <span class="ck">self</span>.count = start          <span class="cc"># Line A</span>

    <span class="ck">def</span> <span class="cfu">increment</span>(<span class="ck">self</span>, n=<span class="cn">1</span>):
        <span class="ck">self</span>.count += n              <span class="cc"># Line B</span>

    <span class="ck">def</span> <span class="cfu">reset</span>(<span class="ck">self</span>):
        <span class="ck">self</span>.count = <span class="cn">0</span>              <span class="cc"># Line C</span>

    <span class="ck">def</span> <span class="cfu">display</span>(<span class="ck">self</span>):
        <span class="ck">print</span>(<span class="cst">f"Count: </span>{<span class="ck">self</span>.count}<span class="cst">"</span>)   <span class="cc"># Line D</span>

<span class="cm">c1</span> = <span class="cm">Counter</span>(<span class="cn">5</span>)       <span class="cc"># Step 1</span>
<span class="cm">c1</span>.increment()        <span class="cc"># Step 2</span>
<span class="cm">c1</span>.increment(<span class="cn">3</span>)       <span class="cc"># Step 3</span>
<span class="cm">c1</span>.display()          <span class="cc"># Step 4</span>
<span class="cm">c1</span>.reset()            <span class="cc"># Step 5</span>
<span class="cm">c1</span>.increment(<span class="cn">2</span>)       <span class="cc"># Step 6</span>
<span class="cm">c1</span>.display()          <span class="cc"># Step 7</span></div>

    <div class="trace-container">
      <div class="trace-title">ğŸ“Š Trace Table â€” Fill in the blanks (auto-marked)</div>
      <table class="trace-table" id="trace1">
        <tr>
          <th>Step</th>
          <th>Statement</th>
          <th>Line</th>
          <th>c1.count</th>
          <th>Output</th>
        </tr>
        <tr>
          <td>1</td>
          <td>c1 = Counter(5)</td>
          <td>A</td>
          <td><input type="text" id="t1_r1" placeholder="?"></td>
          <td>â€”</td>
        </tr>
        <tr>
          <td>2</td>
          <td>c1.increment()</td>
          <td>B</td>
          <td><input type="text" id="t1_r2" placeholder="?"></td>
          <td>â€”</td>
        </tr>
        <tr>
          <td>3</td>
          <td>c1.increment(3)</td>
          <td>B</td>
          <td><input type="text" id="t1_r3" placeholder="?"></td>
          <td>â€”</td>
        </tr>
        <tr>
          <td>4</td>
          <td>c1.display()</td>
          <td>D</td>
          <td>9</td>
          <td><input type="text" id="t1_r4" placeholder="output?"></td>
        </tr>
        <tr>
          <td>5</td>
          <td>c1.reset()</td>
          <td>C</td>
          <td><input type="text" id="t1_r5" placeholder="?"></td>
          <td>â€”</td>
        </tr>
        <tr>
          <td>6</td>
          <td>c1.increment(2)</td>
          <td>B</td>
          <td><input type="text" id="t1_r6" placeholder="?"></td>
          <td>â€”</td>
        </tr>
        <tr>
          <td>7</td>
          <td>c1.display()</td>
          <td>D</td>
          <td>2</td>
          <td><input type="text" id="t1_r7" placeholder="output?"></td>
        </tr>
      </table>
    </div>

    <div style="margin:10px 0">
      <button class="check-q-btn" onclick="checkTrace1()">âœ… Mark My Trace Table</button>
      <span id="trace1-score" style="margin-left:14px;font-family:'Caveat',cursive;font-size:22px"></span>
    </div>

    <h2>ğŸ” Trace Table Exercise 2 â€” Two Objects</h2>
    <div class="code"><span class="ck">class</span> <span class="cm">Box</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, w, h):
        <span class="ck">self</span>.width = w
        <span class="ck">self</span>.height = h

    <span class="ck">def</span> <span class="cfu">area</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.width * <span class="ck">self</span>.height

    <span class="ck">def</span> <span class="cfu">double</span>(<span class="ck">self</span>):
        <span class="ck">self</span>.width *= <span class="cn">2</span>

<span class="cm">a</span> = <span class="cm">Box</span>(<span class="cn">3</span>, <span class="cn">4</span>)
<span class="cm">b</span> = <span class="cm">Box</span>(<span class="cn">5</span>, <span class="cn">2</span>)
<span class="ck">print</span>(<span class="cm">a</span>.area())
<span class="cm">a</span>.double()
<span class="ck">print</span>(<span class="cm">a</span>.area())
<span class="ck">print</span>(<span class="cm">b</span>.area())</div>

    <div class="trace-container">
      <div class="trace-title">ğŸ“Š Trace Table 2 â€” Two objects</div>
      <table class="trace-table" id="trace2">
        <tr>
          <th>Step</th>
          <th>Statement</th>
          <th>a.width</th>
          <th>a.height</th>
          <th>b.width</th>
          <th>b.height</th>
          <th>Output</th>
        </tr>
        <tr><td>1</td><td>a = Box(3,4)</td>
          <td><input type="text" id="t2_r1a" placeholder="?"></td>
          <td><input type="text" id="t2_r1b" placeholder="?"></td>
          <td>â€”</td><td>â€”</td><td>â€”</td></tr>
        <tr><td>2</td><td>b = Box(5,2)</td>
          <td>3</td><td>4</td>
          <td><input type="text" id="t2_r2a" placeholder="?"></td>
          <td><input type="text" id="t2_r2b" placeholder="?"></td>
          <td>â€”</td></tr>
        <tr><td>3</td><td>print(a.area())</td>
          <td>3</td><td>4</td><td>5</td><td>2</td>
          <td><input type="text" id="t2_r3" placeholder="output?"></td></tr>
        <tr><td>4</td><td>a.double()</td>
          <td><input type="text" id="t2_r4" placeholder="?"></td>
          <td>4</td><td>5</td><td>2</td><td>â€”</td></tr>
        <tr><td>5</td><td>print(a.area())</td>
          <td>6</td><td>4</td><td>5</td><td>2</td>
          <td><input type="text" id="t2_r5" placeholder="output?"></td></tr>
        <tr><td>6</td><td>print(b.area())</td>
          <td>6</td><td>4</td><td>5</td><td>2</td>
          <td><input type="text" id="t2_r6" placeholder="output?"></td></tr>
      </table>
    </div>

    <div style="margin:10px 0">
      <button class="check-q-btn" onclick="checkTrace2()">âœ… Mark Trace Table 2</button>
      <span id="trace2-score" style="margin-left:14px;font-family:'Caveat',cursive;font-size:22px"></span>
    </div>

    <div class="pnum">B3.1 â€” Page 5</div>
  </div>

  </div>
</div>



<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     B3.2 PAGE 1 â€” Classes & Objects
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-b32" class="section">
  <div class="top-nav">
    <label for="r-home"   class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b31p3"  class="nav-btn nb-back">â† Trace Tables</label>
    <span class="nb-title">ğŸ“¦ B3.2 â€” Classes &amp; Objects</span>
    <label for="r-b32p2"  class="nav-btn nb-next">Next: Methods â†’</label>
  </div>
  <div class="page-wrap">

  <!-- â”€â”€â”€ Class vs Object â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ“¦ Classes &amp; Objects</div>
    <div class="page-sub">B3.2.1 â€” The Blueprint and the Instance</div>

    <h2>ğŸ—ï¸ Class vs Object</h2>

    <!-- Visual: Blueprint â†’ House analogy -->
    <svg viewBox="0 0 820 175" xmlns="http://www.w3.org/2000/svg" style="font-family:'Kalam',cursive;width:100%;max-width:820px;margin:10px 0">
      <!-- Blueprint -->
      <rect x="10" y="10" width="230" height="155" rx="10" fill="#e8f4fd" stroke="#2980b9" stroke-width="3"/>
      <rect x="10" y="10" width="230" height="40" rx="10" fill="#2980b9"/>
      <text x="125" y="38" text-anchor="middle" font-size="20" fill="white" font-weight="bold">ğŸ“ CLASS (Blueprint)</text>
      <text x="125" y="75" text-anchor="middle" font-size="15" fill="#2c3e50">Template / Definition</text>
      <text x="125" y="95" text-anchor="middle" font-size="15" fill="#2c3e50">â€¢ Attributes (data)</text>
      <text x="125" y="113" text-anchor="middle" font-size="15" fill="#2c3e50">â€¢ Methods (behaviour)</text>
      <text x="125" y="131" text-anchor="middle" font-size="15" fill="#2c3e50">â€¢ Created ONCE</text>
      <text x="125" y="155" text-anchor="middle" font-size="15" fill="#7f8c8d">e.g. class Car</text>
      <!-- Arrow -->
      <text x="260" y="100" font-size="36" fill="#27ae60">â†’</text>
      <text x="255" y="125" text-anchor="middle" font-size="13" fill="#27ae60">instantiate</text>
      <!-- Object 1 -->
      <rect x="295" y="10" width="160" height="155" rx="10" fill="#eafaf1" stroke="#27ae60" stroke-width="2.5"/>
      <rect x="295" y="10" width="160" height="35" rx="10" fill="#27ae60"/>
      <text x="375" y="34" text-anchor="middle" font-size="16" fill="white">ğŸš— Object 1</text>
      <text x="375" y="65" text-anchor="middle" font-size="14" fill="#2c3e50">car1</text>
      <text x="375" y="85" text-anchor="middle" font-size="13" fill="#555">colour = "red"</text>
      <text x="375" y="103" text-anchor="middle" font-size="13" fill="#555">speed = 60</text>
      <text x="375" y="121" text-anchor="middle" font-size="13" fill="#555">brand = "BMW"</text>
      <text x="375" y="155" text-anchor="middle" font-size="12" fill="#7f8c8d">Instance of Car</text>
      <!-- Object 2 -->
      <rect x="470" y="10" width="160" height="155" rx="10" fill="#fff3e0" stroke="#e67e22" stroke-width="2.5"/>
      <rect x="470" y="10" width="160" height="35" rx="10" fill="#e67e22"/>
      <text x="550" y="34" text-anchor="middle" font-size="16" fill="white">ğŸš— Object 2</text>
      <text x="550" y="65" text-anchor="middle" font-size="14" fill="#2c3e50">car2</text>
      <text x="550" y="85" text-anchor="middle" font-size="13" fill="#555">colour = "blue"</text>
      <text x="550" y="103" text-anchor="middle" font-size="13" fill="#555">speed = 0</text>
      <text x="550" y="121" text-anchor="middle" font-size="13" fill="#555">brand = "Toyota"</text>
      <text x="550" y="155" text-anchor="middle" font-size="12" fill="#7f8c8d">Instance of Car</text>
      <!-- Object 3 -->
      <rect x="645" y="10" width="165" height="155" rx="10" fill="#f5eef8" stroke="#8e44ad" stroke-width="2.5"/>
      <rect x="645" y="10" width="165" height="35" rx="10" fill="#8e44ad"/>
      <text x="727" y="34" text-anchor="middle" font-size="16" fill="white">ğŸš— Object 3</text>
      <text x="727" y="65" text-anchor="middle" font-size="14" fill="#2c3e50">car3</text>
      <text x="727" y="85" text-anchor="middle" font-size="13" fill="#555">colour = "green"</text>
      <text x="727" y="103" text-anchor="middle" font-size="13" fill="#555">speed = 120</text>
      <text x="727" y="121" text-anchor="middle" font-size="13" fill="#555">brand = "Ford"</text>
      <text x="727" y="155" text-anchor="middle" font-size="12" fill="#7f8c8d">Instance of Car</text>
    </svg>

    <div class="note">
      <strong>ğŸ’¡ Key distinction:</strong> A <strong>class</strong> is the blueprint (defined once). An <strong>object</strong> is an instance created from that blueprint (can have many). All objects share the same structure but hold different data.
    </div>

    <h2>ğŸ”¨ Building a Class â€” The __init__ Method</h2>

    <div class="two">
      <div>
        <h3>Anatomy of a Python class:</h3>
        <div class="code"><span class="ck">class</span> <span class="cm">Car</span>:                       <span class="cc">â‘  Class definition</span>

    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, brand,    <span class="cc">â‘¡ Constructor</span>
                 colour, speed):
        <span class="ck">self</span>.brand  = brand      <span class="cc">â‘¢ Instance attributes</span>
        <span class="ck">self</span>.colour = colour
        <span class="ck">self</span>.speed  = speed

    <span class="ck">def</span> <span class="cfu">accelerate</span>(<span class="ck">self</span>, amount):<span class="cc">â‘£ Instance method</span>
        <span class="ck">self</span>.speed += amount
        <span class="ck">print</span>(<span class="cst">f"Speed: </span>{<span class="ck">self</span>.speed}<span class="cst"> km/h"</span>)

    <span class="ck">def</span> <span class="cfu">describe</span>(<span class="ck">self</span>):           <span class="cc">â‘¤ Another method</span>
        <span class="ck">print</span>(<span class="cst">f"</span>{<span class="ck">self</span>.colour} {<span class="ck">self</span>.brand}<span class="cst">"</span>)

<span class="cc"># â‘¥ Creating objects (instantiation)</span>
car1 = <span class="cm">Car</span>(<span class="cs">"BMW"</span>, <span class="cs">"red"</span>, <span class="cn">60</span>)
car2 = <span class="cm">Car</span>(<span class="cs">"Toyota"</span>, <span class="cs">"blue"</span>, <span class="cn">0</span>)

<span class="cc"># â‘¦ Calling methods</span>
car1.describe()        <span class="cc"># red BMW</span>
car1.accelerate(<span class="cn">30</span>)   <span class="cc"># Speed: 90</span></div>
      </div>
      <div>
        <h3>Breakdown of key parts:</h3>
        <table>
          <tr><th>Term</th><th>Meaning</th></tr>
          <tr><td><code>class Car:</code></td><td>Defines a new class called Car</td></tr>
          <tr><td><code>__init__</code></td><td>Constructor â€” called automatically when object is created</td></tr>
          <tr><td><code>self</code></td><td>Reference to the current object instance</td></tr>
          <tr><td><code>self.brand</code></td><td>Instance attribute â€” unique to each object</td></tr>
          <tr><td><code>Car("BMW",...)</code></td><td>Instantiation â€” creates a new object</td></tr>
          <tr><td><code>car1.describe()</code></td><td>Method call on an object</td></tr>
        </table>

        <div class="warn">
          <strong>âš ï¸ Why <code>self</code>?</strong><br>
          <code>self</code> tells Python "this attribute/method belongs to <em>this specific object</em>". Without it, the method wouldn't know which object's data to use. Every method must have <code>self</code> as first parameter.
        </div>

        <!-- UML for Car -->
        <div style="margin-top:14px">
          <p><strong>UML Class Diagram:</strong></p>
          <div class="uml" style="width:100%">
            <div class="uml-name">Car</div>
            <div class="uml-section">
              <div class="uml-item"><span class="pub">+</span> brand: String</div>
              <div class="uml-item"><span class="pub">+</span> colour: String</div>
              <div class="uml-item"><span class="pub">+</span> speed: int</div>
            </div>
            <div class="uml-section">
              <div class="uml-item"><span class="pub">+</span> __init__(brand, colour, speed)</div>
              <div class="uml-item"><span class="pub">+</span> accelerate(amount: int)</div>
              <div class="uml-item"><span class="pub">+</span> describe(): void</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sandbox: Car class -->
    <div class="sandbox" id="sb4">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">ğŸ Run It: Car Class</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb4-code">class Car:
    def __init__(self, brand, colour, speed):
        self.brand  = brand
        self.colour = colour
        self.speed  = speed

    def accelerate(self, amount):
        self.speed += amount
        print(f"Speed: {self.speed} km/h")

    def brake(self, amount):
        self.speed = max(0, self.speed - amount)
        print(f"Braked! Speed: {self.speed} km/h")

    def describe(self):
        print(f"{self.colour} {self.brand} going {self.speed} km/h")

# Create two car objects
car1 = Car("BMW", "red", 60)
car2 = Car("Toyota", "blue", 0)

car1.describe()
car2.accelerate(50)
car2.describe()

print(f"\nCar1 brand: {car1.brand}")
print(f"Car2 brand: {car2.brand}")
print(f"Are they the same? {car1 is car2}")

# Try adding a third car!
car3 = Car("Ferrari", "yellow", 200)
car3.describe()
car3.brake(80)
car3.describe()</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb4')">â–¶ Run Code</button>
      </div>
      <div class="sandbox-output" id="sb4-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div class="pnum">B3.2 â€” Page 1</div>
  </div>

  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     B3.2 PAGE 2 â€” Methods & Getters/Setters
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-b32p2" class="section">
  <div class="top-nav">
    <label for="r-home"  class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b32"   class="nav-btn nb-back">â† Classes &amp; Objects</label>
    <span class="nb-title">âš™ï¸ B3.2 â€” Methods, Getters &amp; Setters</span>
    <label for="r-b32p3" class="nav-btn nb-next">Next: Python Sandbox â†’</label>
  </div>
  <div class="page-wrap">

  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">âš™ï¸ Methods â€” Types &amp; Design</div>

    <h2>ğŸ“‹ Types of Methods</h2>
    <div class="three">
      <div class="card c-blue">
        <h3>ğŸ”µ Instance Method</h3>
        <p>Most common. Takes <code>self</code> as first parameter. Operates on instance data.</p>
        <div class="code" style="font-size:13px"><span class="ck">def</span> <span class="cfu">bark</span>(<span class="ck">self</span>):
    <span class="ck">print</span>(<span class="ck">self</span>.name)</div>
        <p style="font-size:15px">Called on: <code>dog.bark()</code></p>
      </div>
      <div class="card c-green">
        <h3>ğŸŸ¢ Class Method</h3>
        <p>Uses <code>@classmethod</code> decorator + <code>cls</code>. Operates on class-level data.</p>
        <div class="code" style="font-size:13px">@<span class="cm">classmethod</span>
<span class="ck">def</span> <span class="cfu">create</span>(<span class="ck">cls</span>, name):
    <span class="ck">return</span> <span class="ck">cls</span>(name)</div>
        <p style="font-size:15px">Called on: <code>Dog.create("Rex")</code></p>
      </div>
      <div class="card c-purple">
        <h3>ğŸŸ£ Static Method</h3>
        <p>Uses <code>@staticmethod</code>. No <code>self</code> or <code>cls</code>. Utility function inside a class.</p>
        <div class="code" style="font-size:13px">@<span class="cm">staticmethod</span>
<span class="ck">def</span> <span class="cfu">validate_age</span>(age):
    <span class="ck">return</span> age > <span class="cn">0</span></div>
        <p style="font-size:15px">Called on: <code>Dog.validate_age(3)</code></p>
      </div>
    </div>

    <h2>ğŸ” Getters &amp; Setters</h2>
    <div class="box">
      <p><span class="kt">Getters</span> = methods that <span class="hl">return</span> the value of a private attribute. <span class="kt">Setters</span> = methods that <span class="hl">set</span> a private attribute (usually with validation). They implement encapsulation properly.</p>
    </div>

    <div class="two">
      <div class="code"><span class="ck">class</span> <span class="cm">Temperature</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, celsius):
        <span class="ck">self</span>.__celsius = celsius

    <span class="cc"># GETTER</span>
    <span class="ck">def</span> <span class="cfu">get_celsius</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__celsius

    <span class="cc"># SETTER with validation</span>
    <span class="ck">def</span> <span class="cfu">set_celsius</span>(<span class="ck">self</span>, c):
        <span class="ck">if</span> c < <span class="cn">-273.15</span>:
            <span class="ck">print</span>(<span class="cs">"Below absolute zero!"</span>)
        <span class="ck">else</span>:
            <span class="ck">self</span>.__celsius = c

    <span class="cc"># Computed getter (no setter needed)</span>
    <span class="ck">def</span> <span class="cfu">get_fahrenheit</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__celsius * <span class="cn">9</span>/<span class="cn">5</span> + <span class="cn">32</span>

t = <span class="cm">Temperature</span>(<span class="cn">25</span>)
<span class="ck">print</span>(t.get_celsius())     <span class="cc"># 25</span>
<span class="ck">print</span>(t.get_fahrenheit())  <span class="cc"># 77.0</span>
t.set_celsius(<span class="cn">-300</span>)       <span class="cc"># Error!</span>
t.set_celsius(<span class="cn">100</span>)
<span class="ck">print</span>(t.get_celsius())     <span class="cc"># 100</span></div>

      <div>
        <h3>Python @property decorator (advanced):</h3>
        <div class="code"><span class="ck">class</span> <span class="cm">Temperature</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, c):
        <span class="ck">self</span>.__celsius = c

    @<span class="cm">property</span>              <span class="cc"># getter</span>
    <span class="ck">def</span> <span class="cfu">celsius</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__celsius

    @celsius.<span class="cm">setter</span>         <span class="cc"># setter</span>
    <span class="ck">def</span> <span class="cfu">celsius</span>(<span class="ck">self</span>, c):
        <span class="ck">if</span> c >= <span class="cn">-273.15</span>:
            <span class="ck">self</span>.__celsius = c

<span class="cc"># Used like an attribute!</span>
t = <span class="cm">Temperature</span>(<span class="cn">25</span>)
<span class="ck">print</span>(t.celsius)   <span class="cc"># calls getter</span>
t.celsius = <span class="cn">100</span>   <span class="cc"># calls setter</span></div>
        <div class="note" style="margin-top:10px">
          <strong>ğŸ’¡ IB Tip:</strong> @property is a more "Pythonic" way to implement getters/setters. Either style is acceptable for IB CS, but plain get_/set_ methods are clearer for beginners.
        </div>
      </div>
    </div>

    <h2>ğŸ·ï¸ Class Attributes vs Instance Attributes</h2>
    <div class="two">
      <div class="code"><span class="ck">class</span> <span class="cm">Dog</span>:
    <span class="cc"># CLASS attribute â€” shared by ALL objects</span>
    species = <span class="cs">"Canis lupus familiaris"</span>
    count = <span class="cn">0</span>

    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name):
        <span class="cc"># INSTANCE attribute â€” unique to this object</span>
        <span class="ck">self</span>.name = name
        <span class="cm">Dog</span>.count += <span class="cn">1</span>  <span class="cc"># update class attribute</span>

d1 = <span class="cm">Dog</span>(<span class="cs">"Rex"</span>)
d2 = <span class="cm">Dog</span>(<span class="cs">"Luna"</span>)

<span class="ck">print</span>(<span class="cm">Dog</span>.species)  <span class="cc"># Canis lupus familiaris</span>
<span class="ck">print</span>(<span class="cm">Dog</span>.count)    <span class="cc"># 2</span>
<span class="ck">print</span>(d1.name)     <span class="cc"># Rex</span>
<span class="ck">print</span>(d2.name)     <span class="cc"># Luna</span></div>
      <div>
        <table>
          <tr><th>Feature</th><th>Class Attribute</th><th>Instance Attribute</th></tr>
          <tr><td>Defined</td><td>Outside __init__</td><td>Inside __init__ with self</td></tr>
          <tr><td>Shared</td><td>All objects share it</td><td>Each object has own copy</td></tr>
          <tr><td>Access</td><td>ClassName.attr or self.attr</td><td>self.attr only</td></tr>
          <tr><td>Use case</td><td>Count, constants, default values</td><td>Specific data per object</td></tr>
        </table>
        <div class="eg" style="margin-top:12px">
          <p>ğŸ• <strong>Analogy:</strong> All dogs have 4 legs (class attribute â€” same for all). But each dog has its own name (instance attribute â€” unique to each).</p>
        </div>
      </div>
    </div>

    <!-- Sandbox: Getters/Setters challenge -->
    <div class="challenge-box">
      <div class="challenge-header"><span>ğŸ†</span><span>Challenge 2 â€” Design a BankAccount class</span></div>
      <div class="challenge-body">
        <p>Build a fully encapsulated <code>BankAccount</code> class:</p>
        <ul style="font-size:17px;margin:10px 0 10px 24px">
          <li>Private <code>__balance</code> (cannot go below 0)</li>
          <li>Private <code>__owner</code> name (set only in __init__)</li>
          <li>Class attribute <code>interest_rate = 0.05</code></li>
          <li>Methods: <code>deposit(amt)</code>, <code>withdraw(amt)</code>, <code>get_balance()</code>, <code>apply_interest()</code>, <code>display()</code></li>
        </ul>
        <div class="expected-output"># Expected output:
Account: Alice | Balance: Â£1500.00
After interest: Â£1575.00
Withdrawal of Â£2000 failed: insufficient funds
Account: Alice | Balance: Â£1575.00</div>
      </div>
    </div>

    <div class="sandbox" id="sb5">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">âœï¸ BankAccount Class Challenge</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb5-code">class BankAccount:
    interest_rate = 0.05  # class attribute
    
    def __init__(self, owner, balance):
        self.__owner = owner
        self.__balance = balance
    
    def deposit(self, amt):
        # TODO: add amount to balance (if positive)
        pass
    
    def withdraw(self, amt):
        # TODO: subtract amt if sufficient funds
        # Print error if not enough funds
        pass
    
    def get_balance(self):
        # TODO: return balance
        pass
    
    def apply_interest(self):
        # TODO: multiply balance by (1 + interest_rate)
        pass
    
    def display(self):
        # TODO: print "Account: {owner} | Balance: Â£{balance:.2f}"
        pass

# Test your code:
acc = BankAccount("Alice", 1000)
acc.deposit(500)
acc.display()
acc.apply_interest()
print(f"After interest: Â£{acc.get_balance():.2f}")
acc.withdraw(2000)
acc.display()</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb5')">â–¶ Run Code</button>
        <button class="run-btn" style="background:linear-gradient(135deg,#8e44ad,#9b59b6)" onclick="showSolution('sol2')">ğŸ’¡ Solution</button>
      </div>
      <div class="sandbox-output" id="sb5-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div id="sol2" style="display:none">
      <div class="code"><span class="ck">class</span> <span class="cm">BankAccount</span>:
    interest_rate = <span class="cn">0.05</span>
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, owner, balance):
        <span class="ck">self</span>.__owner = owner
        <span class="ck">self</span>.__balance = balance
    <span class="ck">def</span> <span class="cfu">deposit</span>(<span class="ck">self</span>, amt):
        <span class="ck">if</span> amt > <span class="cn">0</span>: <span class="ck">self</span>.__balance += amt
    <span class="ck">def</span> <span class="cfu">withdraw</span>(<span class="ck">self</span>, amt):
        <span class="ck">if</span> amt <= <span class="ck">self</span>.__balance:
            <span class="ck">self</span>.__balance -= amt
        <span class="ck">else</span>:
            <span class="ck">print</span>(<span class="cst">f"Withdrawal of Â£</span>{amt}<span class="cst"> failed: insufficient funds"</span>)
    <span class="ck">def</span> <span class="cfu">get_balance</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="ck">self</span>.__balance
    <span class="ck">def</span> <span class="cfu">apply_interest</span>(<span class="ck">self</span>): <span class="ck">self</span>.__balance *= (<span class="cn">1</span> + <span class="cm">BankAccount</span>.interest_rate)
    <span class="ck">def</span> <span class="cfu">display</span>(<span class="ck">self</span>): <span class="ck">print</span>(<span class="cst">f"Account: </span>{<span class="ck">self</span>.__owner}<span class="cst"> | Balance: Â£</span>{<span class="ck">self</span>.__balance:.2f}<span class="cst">"</span>)</div>
    </div>

    <div class="pnum">B3.2 â€” Page 2</div>
  </div>

  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     B3.2 PAGE 3 â€” Python Sandbox (Inheritance in classes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-b32p3" class="section">
  <div class="top-nav">
    <label for="r-home"   class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b32p2"  class="nav-btn nb-back">â† Methods</label>
    <span class="nb-title">ğŸ B3.2 â€” Full OOP Sandbox</span>
    <label for="r-practice" class="nav-btn nb-next">Next: Practice â†’</label>
  </div>
  <div class="page-wrap">

  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ Full OOP: Bringing It Together</div>
    <div class="page-sub">A complete class hierarchy â€” B3.1 + B3.2 combined</div>

    <div class="info">
      <strong>ğŸ¯ This example combines ALL OOP concepts:</strong> Encapsulation, Abstraction, Inheritance, Polymorphism
    </div>

    <!-- Full OOP example with vehicle hierarchy -->
    <div class="sandbox" id="sb6">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">ğŸš— Full OOP: Vehicle Hierarchy</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb6-code" style="min-height:360px">class Vehicle:
    """Base class for all vehicles - Abstraction layer"""
    total_vehicles = 0  # class attribute
    
    def __init__(self, make, model, year):
        self.__make  = make   # private
        self.__model = model  # private
        self.year = year      # public
        Vehicle.total_vehicles += 1
    
    # Getters (encapsulation)
    def get_make(self): return self.__make
    def get_model(self): return self.__model
    
    def describe(self):
        print(f"{self.year} {self.__make} {self.__model}")
    
    def fuel_type(self):   # will be overridden
        return "Unknown"
    
    def __str__(self):
        return f"Vehicle: {self.__make} {self.__model}"


class Car(Vehicle):    # Inheritance
    def __init__(self, make, model, year, doors):
        super().__init__(make, model, year)  # call parent constructor
        self.__doors = doors
    
    def fuel_type(self):   # Polymorphism - override
        return "Petrol/Diesel"
    
    def describe(self):
        super().describe()  # call parent describe
        print(f"  Doors: {self.__doors} | Fuel: {self.fuel_type()}")


class ElectricCar(Car):   # Multi-level inheritance
    def __init__(self, make, model, year, doors, range_km):
        super().__init__(make, model, year, doors)
        self.__range = range_km
    
    def fuel_type(self):   # Polymorphism
        return "Electric"
    
    def describe(self):
        super().describe()
        print(f"  Range: {self.__range} km")


class Motorcycle(Vehicle):   # Another subclass
    def fuel_type(self):
        return "Petrol"
    
    def describe(self):
        super().describe()
        print(f"  Type: Motorcycle | Fuel: {self.fuel_type()}")


# Create objects
fleet = [
    Car("Toyota", "Corolla", 2022, 4),
    ElectricCar("Tesla", "Model 3", 2024, 4, 570),
    Motorcycle("Honda", "CB500", 2021),
]

print("=== Vehicle Fleet ===")
for v in fleet:
    v.describe()     # Polymorphism in action!
    print()

print(f"Total vehicles created: {Vehicle.total_vehicles}")

# isinstance() shows inheritance relationship
print(f"\nTesla is a Car? {isinstance(fleet[1], Car)}")
print(f"Tesla is a Vehicle? {isinstance(fleet[1], Vehicle)}")
print(f"Toyota is an ElectricCar? {isinstance(fleet[0], ElectricCar)}")</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb6')">â–¶ Run Code</button>
      </div>
      <div class="sandbox-output" id="sb6-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <!-- UML for the hierarchy -->
    <div style="text-align:center;margin:16px 0">
      <div class="uml" style="display:inline-block;min-width:220px">
        <div class="uml-name">Vehicle</div>
        <div class="uml-section">
          <div class="uml-item"><span class="priv">-</span> __make: String</div>
          <div class="uml-item"><span class="priv">-</span> __model: String</div>
          <div class="uml-item"><span class="pub">+</span> year: int</div>
          <div class="uml-item"><span class="pub">+</span> total_vehicles: int</div>
        </div>
        <div class="uml-section">
          <div class="uml-item"><span class="pub">+</span> get_make(): String</div>
          <div class="uml-item"><span class="pub">+</span> describe()</div>
          <div class="uml-item"><span class="pub">+</span> fuel_type(): String</div>
        </div>
      </div>
      <div class="inherit-arrow">â–³<br>â”‚</div>
      <div style="display:flex;gap:20px;justify-content:center">
        <div>
          <div class="uml" style="min-width:200px">
            <div class="uml-name" style="background:#27ae60">Car</div>
            <div class="uml-section">
              <div class="uml-item"><span class="priv">-</span> __doors: int</div>
            </div>
            <div class="uml-section">
              <div class="uml-item"><span class="pub">+</span> fuel_type() ğŸ”„</div>
              <div class="uml-item"><span class="pub">+</span> describe() ğŸ”„</div>
            </div>
          </div>
          <div class="inherit-arrow" style="font-size:24px">â–³<br>â”‚</div>
          <div class="uml" style="min-width:200px">
            <div class="uml-name" style="background:#1b98e0">ElectricCar</div>
            <div class="uml-section">
              <div class="uml-item"><span class="priv">-</span> __range: int</div>
            </div>
            <div class="uml-section">
              <div class="uml-item"><span class="pub">+</span> fuel_type() ğŸ”„</div>
            </div>
          </div>
        </div>
        <div class="uml" style="min-width:180px;align-self:flex-start">
          <div class="uml-name" style="background:#e67e22">Motorcycle</div>
          <div class="uml-section" style="min-height:30px"></div>
          <div class="uml-section">
            <div class="uml-item"><span class="pub">+</span> fuel_type() ğŸ”„</div>
          </div>
        </div>
      </div>
      <p style="font-size:14px;color:#7f8c8d;margin-top:10px">ğŸ”„ = overridden method &nbsp; â–³ = inherits from</p>
    </div>

    <!-- Challenge 3 -->
    <div class="challenge-box">
      <div class="challenge-header"><span>ğŸ†</span><span>Challenge 3 â€” Shape Hierarchy (IB-style)</span></div>
      <div class="challenge-body">
        <p>Create a <code>Shape</code> base class with subclasses <code>Circle</code>, <code>Rectangle</code>, and <code>Triangle</code>. Each must override <code>area()</code> and <code>perimeter()</code>. Use polymorphism to print all shapes.</p>
        <div class="expected-output">Circle r=5: Area=78.54, Perimeter=31.42
Rectangle 4x6: Area=24, Perimeter=20
Triangle 3,4,5: Area=6.0, Perimeter=12</div>
      </div>
    </div>

    <div class="sandbox" id="sb7">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">âœï¸ Shape Hierarchy Challenge</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb7-code">import math

class Shape:
    def area(self):
        return 0
    
    def perimeter(self):
        return 0
    
    def describe(self):
        print(f"{self.__class__.__name__}: Area={self.area():.2f}, Perimeter={self.perimeter():.2f}")

class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius
    
    # TODO: Override area() â€” pi * r^2
    # TODO: Override perimeter() â€” 2 * pi * r
    # TODO: Override describe() to match expected output

class Rectangle(Shape):
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    # TODO: Override area() â€” w * h
    # TODO: Override perimeter() â€” 2*(w+h)

class Triangle(Shape):
    def __init__(self, a, b, c):
        self.a, self.b, self.c = a, b, c
    
    # TODO: Override area() â€” Heron's formula
    # TODO: Override perimeter() â€” a+b+c

# Test with polymorphism:
shapes = [Circle(5), Rectangle(4, 6), Triangle(3, 4, 5)]
for s in shapes:
    s.describe()</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb7')">â–¶ Run Code</button>
        <button class="run-btn" style="background:linear-gradient(135deg,#8e44ad,#9b59b6)" onclick="showSolution('sol3')">ğŸ’¡ Solution</button>
      </div>
      <div class="sandbox-output" id="sb7-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div id="sol3" style="display:none">
      <div class="code"><span class="ck">import</span> math

<span class="ck">class</span> <span class="cm">Circle</span>(<span class="cm">Shape</span>):
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, r): <span class="ck">self</span>.radius = r
    <span class="ck">def</span> <span class="cfu">area</span>(<span class="ck">self</span>): <span class="ck">return</span> math.pi * <span class="ck">self</span>.radius**<span class="cn">2</span>
    <span class="ck">def</span> <span class="cfu">perimeter</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="cn">2</span> * math.pi * <span class="ck">self</span>.radius
    <span class="ck">def</span> <span class="cfu">describe</span>(<span class="ck">self</span>): <span class="ck">print</span>(<span class="cst">f"Circle r=</span>{<span class="ck">self</span>.radius}<span class="cst">: Area=</span>{<span class="ck">self</span>.area():.2f}<span class="cst">, Perimeter=</span>{<span class="ck">self</span>.perimeter():.2f}<span class="cst">"</span>)

<span class="ck">class</span> <span class="cm">Rectangle</span>(<span class="cm">Shape</span>):
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, w, h): <span class="ck">self</span>.width=w; <span class="ck">self</span>.height=h
    <span class="ck">def</span> <span class="cfu">area</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="ck">self</span>.width * <span class="ck">self</span>.height
    <span class="ck">def</span> <span class="cfu">perimeter</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="cn">2</span>*(<span class="ck">self</span>.width+<span class="ck">self</span>.height)
    <span class="ck">def</span> <span class="cfu">describe</span>(<span class="ck">self</span>): <span class="ck">print</span>(<span class="cst">f"Rectangle </span>{<span class="ck">self</span>.width}x{<span class="ck">self</span>.height}<span class="cst">: Area=</span>{<span class="ck">self</span>.area()}<span class="cst">, Perimeter=</span>{<span class="ck">self</span>.perimeter()}<span class="cst">"</span>)

<span class="ck">class</span> <span class="cm">Triangle</span>(<span class="cm">Shape</span>):
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, a, b, c): <span class="ck">self</span>.a=a; <span class="ck">self</span>.b=b; <span class="ck">self</span>.c=c
    <span class="ck">def</span> <span class="cfu">area</span>(<span class="ck">self</span>):
        s = (<span class="ck">self</span>.a+<span class="ck">self</span>.b+<span class="ck">self</span>.c)/<span class="cn">2</span>
        <span class="ck">return</span> math.sqrt(s*(s-<span class="ck">self</span>.a)*(s-<span class="ck">self</span>.b)*(s-<span class="ck">self</span>.c))
    <span class="ck">def</span> <span class="cfu">perimeter</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="ck">self</span>.a+<span class="ck">self</span>.b+<span class="ck">self</span>.c
    <span class="ck">def</span> <span class="cfu">describe</span>(<span class="ck">self</span>): <span class="ck">print</span>(<span class="cst">f"Triangle </span>{<span class="ck">self</span>.a},{<span class="ck">self</span>.b},{<span class="ck">self</span>.c}<span class="cst">: Area=</span>{<span class="ck">self</span>.area()}<span class="cst">, Perimeter=</span>{<span class="ck">self</span>.perimeter()}<span class="cst">"</span>)</div>
    </div>

    <div class="pnum">B3.2 â€” Page 3</div>
  </div>



  </div><!-- /.page-wrap (s-b32p3) -->
</div><!-- /.s-b32p3 -->

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ENCAPSULATION â€” DEEP DIVE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-encap" class="section">
  <div class="top-nav">
    <label for="r-home" class="nav-btn nb-home">ğŸ  Home</label>
    <span class="nb-title">ğŸ”’ Encapsulation</span>
    <label for="n-array" class="nav-btn nb-next">Next: Arrays â†’</label>
  </div>
  <div class="page-wrap">

  <!-- â”€â”€â”€ Page 1: What is Encapsulation? â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>

    <div class="page-title">ğŸ”’ Encapsulation</div>
    <div class="page-sub">B3.1 â€” Protecting Data Inside Objects</div>

    <!-- SL/HL key -->
    <div style="display:flex;align-items:center;gap:12px;margin:10px 0 18px;padding:10px 16px;background:#f8f9fa;border-radius:8px;border:1px solid #dee2e6">
      <strong style="font-size:15px;color:#555">Topic levels:</strong>
      <span class="sl-badge">SL</span><span style="font-size:14px;color:#555">Standard Level â€” required for all</span>
      <span style="color:#ccc;margin:0 4px">|</span>
      <span class="hl-badge">HL</span><span style="font-size:14px;color:#555">Higher Level â€” additional depth</span>
    </div>

    <div class="box">
      <p><span class="kt">Encapsulation</span> means <span class="hl">bundling data (attributes) and the methods that operate on that data into one unit (a class)</span>, and <strong>controlling how that data is accessed or changed</strong> from outside.</p>
      <p style="margin-top:8px">Think of it like a medicine capsule â€” the contents are protected inside, and you interact with it only in the prescribed way.</p>
    </div>

    <h2>ğŸ¯ Why Encapsulate? <span class="sl-badge">SL</span></h2>
    <div class="three">
      <div class="card c-blue">
        <h3>ğŸ›¡ï¸ Data Protection</h3>
        <p>Prevents external code from directly changing internal state in unexpected or invalid ways.</p>
        <p style="font-size:15px;margin-top:8px;color:#555">e.g. Stop a bank balance going negative</p>
      </div>
      <div class="card c-green">
        <h3>ğŸ”§ Validation</h3>
        <p>Methods can check input before storing it. You control <em>what</em> can be set and <em>when</em>.</p>
        <p style="font-size:15px;margin-top:8px;color:#555">e.g. Grade must be 0â€“100</p>
      </div>
      <div class="card c-orange">
        <h3>ğŸ§© Maintainability</h3>
        <p>Internal implementation can change without breaking any code that uses the class.</p>
        <p style="font-size:15px;margin-top:8px;color:#555">e.g. Change storage format later</p>
      </div>
    </div>

    <h2>ğŸš¦ Access Modifiers in Python <span class="sl-badge">SL</span></h2>
    <p style="font-size:17px;margin:8px 0 12px">Python uses <strong>naming conventions</strong> (not enforced keywords like Java/C++) to signal access level:</p>

    <table>
      <thead>
        <tr><th>Naming</th><th>Level</th><th>Who can access it?</th><th>Python example</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><code>name</code></td>
          <td>âœ… <strong>Public</strong></td>
          <td>Anywhere â€” inside class, subclasses, external code</td>
          <td><code>self.name = "Alice"</code></td>
        </tr>
        <tr>
          <td><code>_name</code> <em>(single underscore)</em></td>
          <td>âš ï¸ <strong>Protected</strong></td>
          <td>Class + subclasses <em>(convention only â€” not enforced)</em></td>
          <td><code>self._salary = 50000</code></td>
        </tr>
        <tr>
          <td><code>__name</code> <em>(double underscore)</em></td>
          <td>ğŸ”’ <strong>Private</strong></td>
          <td>Class only â€” Python name-mangles it to block easy access</td>
          <td><code>self.__pin = 1234</code></td>
        </tr>
      </tbody>
    </table>

    <div class="note" style="margin-top:14px">
      <strong>ğŸ’¡ IB Exam Note (SL+HL):</strong> In Python, privacy is enforced by <em>convention and name mangling</em>, not by a language keyword like Java's <code>private</code>. The IB still expects you to use <code>__</code> prefix for private attributes and understand <em>why</em> encapsulation matters.
    </div>

    <div class="pnum">B3.1 â€” Encapsulation â€” Page 1</div>
  </div>

  <!-- â”€â”€â”€ Page 2: Public / Protected / Private in Code â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>

    <div class="page-title">ğŸ“¦ Access Levels in Code</div>
    <div class="page-sub">Seeing public, protected and private in action</div>

    <h2>ğŸ” Full Example: BankAccount <span class="sl-badge">SL</span></h2>
    <div class="two">
      <div>
        <div class="code"><span class="ck">class</span> <span class="cm">BankAccount</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, owner, balance):
        <span class="ck">self</span>.owner = owner          <span class="cc"># PUBLIC   âœ…</span>
        <span class="ck">self</span>._bank = <span class="cs">"IBDP Bank"</span>  <span class="cc"># PROTECTED âš ï¸</span>
        <span class="ck">self</span>.__balance = balance    <span class="cc"># PRIVATE  ğŸ”’</span>

    <span class="ck">def</span> <span class="cfu">deposit</span>(<span class="ck">self</span>, amount):
        <span class="ck">if</span> amount > <span class="cn">0</span>:
            <span class="ck">self</span>.__balance += amount
            <span class="ck">print</span>(<span class="cst">f"Deposited Â£{amount}"</span>)
        <span class="ck">else</span>:
            <span class="ck">print</span>(<span class="cs">"Invalid amount!"</span>)

    <span class="ck">def</span> <span class="cfu">get_balance</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__balance

acc = <span class="cm">BankAccount</span>(<span class="cs">"Alice"</span>, <span class="cn">1000</span>)

<span class="ck">print</span>(acc.owner)          <span class="cc"># âœ… "Alice" â€” public, works fine</span>
<span class="ck">print</span>(acc._bank)          <span class="cc"># âš ï¸ works but bad practice</span>
<span class="ck">print</span>(acc.__balance)      <span class="cc"># âŒ AttributeError â€” private!</span></div>
      </div>
      <div>
        <h3 style="margin-bottom:10px">What happens when you run it?</h3>
        <div class="eg">
          <p><strong>Line 1:</strong> <code>acc.owner</code> â†’ prints <code>"Alice"</code> âœ…</p>
          <p style="margin-top:8px"><strong>Line 2:</strong> <code>acc._bank</code> â†’ prints <code>"IBDP Bank"</code> âš ï¸ works but convention says don't do this</p>
          <p style="margin-top:8px"><strong>Line 3:</strong> <code>acc.__balance</code> â†’ <strong style="color:#e74c3c">AttributeError!</strong> Python has renamed it to <code>acc._BankAccount__balance</code> (name mangling)</p>
        </div>
        <div class="warn">
          <strong>âš ï¸ Name Mangling (HL)</strong><br>
          When Python sees <code>__x</code> inside a class, it silently renames it to <code>_ClassName__x</code>. This makes accidental access from outside much harder â€” but it's not true security. You <em>can</em> still do <code>acc._BankAccount__balance</code> if you really need to.
        </div>
        <div class="note" style="margin-top:10px">
          <strong>ğŸ“‹ IB Exam Tip:</strong> If asked to define encapsulation, say: <em>"Bundling data and methods into a class, and restricting direct access to internal data using access modifiers."</em>
        </div>
      </div>
    </div>

    <h2>ğŸ“Š Access Modifier Summary <span class="sl-badge">SL</span> <span class="hl-badge">HL</span></h2>
    <table>
      <thead>
        <tr><th>Modifier</th><th>Syntax</th><th>Accessible outside class?</th><th>IB Level</th></tr>
      </thead>
      <tbody>
        <tr><td>Public</td><td><code>self.name</code></td><td>âœ… Yes, always</td><td><span class="sl-badge">SL</span></td></tr>
        <tr><td>Protected</td><td><code>self._name</code></td><td>âš ï¸ Yes (convention says avoid)</td><td><span class="sl-badge">SL</span></td></tr>
        <tr><td>Private</td><td><code>self.__name</code></td><td>âŒ No (name mangled)</td><td><span class="sl-badge">SL</span></td></tr>
        <tr><td>Name mangling detail</td><td><code>obj._Class__name</code></td><td>âš ï¸ Still possible but very explicit</td><td><span class="hl-badge">HL</span></td></tr>
      </tbody>
    </table>

    <div class="pnum">B3.1 â€” Encapsulation â€” Page 2</div>
  </div>

  <!-- â”€â”€â”€ Page 3: Getters, Setters & Properties â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>

    <div class="page-title">ğŸ”§ Getters &amp; Setters</div>
    <div class="page-sub">The correct way to access and change private data</div>

    <div class="box">
      <p>Since private attributes can't be accessed directly, we provide <span class="kt">getter</span> and <span class="kt">setter</span> methods as the controlled interface. These are the <em>only</em> approved way to read or change private data.</p>
    </div>

    <div class="two">
      <div>
        <h3>Getter = read private data <span class="sl-badge">SL</span></h3>
        <div class="code"><span class="ck">class</span> <span class="cm">Student</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, grade):
        <span class="ck">self</span>.name = name
        <span class="ck">self</span>.__grade = grade  <span class="cc"># private</span>

    <span class="cc"># GETTER â€” returns private value</span>
    <span class="ck">def</span> <span class="cfu">get_grade</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__grade

s = <span class="cm">Student</span>(<span class="cs">"Alice"</span>, <span class="cn">87</span>)
<span class="ck">print</span>(s.get_grade())  <span class="cc"># 87 âœ…</span>
<span class="ck">print</span>(s.__grade)      <span class="cc"># âŒ AttributeError</span></div>

        <h3 style="margin-top:16px">Setter = validate &amp; change private data <span class="sl-badge">SL</span></h3>
        <div class="code">    <span class="cc"># SETTER â€” validates before setting</span>
    <span class="ck">def</span> <span class="cfu">set_grade</span>(<span class="ck">self</span>, g):
        <span class="ck">if</span> <span class="cn">0</span> &lt;= g &lt;= <span class="cn">100</span>:
            <span class="ck">self</span>.__grade = g
        <span class="ck">else</span>:
            <span class="ck">print</span>(<span class="cs">"Grade must be 0â€“100!"</span>)

s.set_grade(<span class="cn">95</span>)   <span class="cc"># âœ… sets to 95</span>
s.set_grade(<span class="cn">150</span>)  <span class="cc"># âŒ prints error, grade unchanged</span></div>
      </div>
      <div>
        <h3>Python @property decorator <span class="hl-badge">HL</span></h3>
        <div class="hl-box">
          <strong>Higher Level only:</strong> Python provides a cleaner syntax using <code>@property</code> that lets you access getters/setters like regular attributes (no brackets needed).
        </div>
        <div class="code"><span class="ck">class</span> <span class="cm">Student</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, grade):
        <span class="ck">self</span>.name = name
        <span class="ck">self</span>.__grade = grade

    <span class="cn">@property</span>
    <span class="ck">def</span> <span class="cfu">grade</span>(<span class="ck">self</span>):          <span class="cc"># getter</span>
        <span class="ck">return</span> <span class="ck">self</span>.__grade

    <span class="cn">@grade.setter</span>
    <span class="ck">def</span> <span class="cfu">grade</span>(<span class="ck">self</span>, g):      <span class="cc"># setter</span>
        <span class="ck">if</span> <span class="cn">0</span> &lt;= g &lt;= <span class="cn">100</span>:
            <span class="ck">self</span>.__grade = g
        <span class="ck">else</span>:
            <span class="ck">print</span>(<span class="cs">"Grade must be 0â€“100!"</span>)

s = <span class="cm">Student</span>(<span class="cs">"Alice"</span>, <span class="cn">87</span>)
<span class="ck">print</span>(s.grade)    <span class="cc"># 87 â€” no () needed!</span>
s.grade = <span class="cn">95</span>     <span class="cc"># calls setter automatically</span>
s.grade = <span class="cn">150</span>    <span class="cc"># prints error âŒ</span></div>
        <div class="note" style="margin-top:10px">
          <strong>@property benefit (HL):</strong> Code that uses the class looks like it's accessing a plain attribute (<code>s.grade</code>), but behind the scenes your validation logic still runs. The internal implementation is completely hidden.
        </div>
      </div>
    </div>

    <div class="pnum">B3.1 â€” Encapsulation â€” Page 3</div>
  </div>

  <!-- â”€â”€â”€ Page 4: Real-World Design + IB Exam Questions â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>

    <div class="page-title">ğŸ—ï¸ Designing with Encapsulation</div>
    <div class="page-sub">Applying it to a realistic class â€” TemperatureSensor</div>

    <h2>Full encapsulated class example <span class="sl-badge">SL</span> <span class="hl-badge">HL</span></h2>
    <div class="code"><span class="ck">class</span> <span class="cm">TemperatureSensor</span>:
    <span class="cc">"""Models a temperature sensor with safe data access."""</span>

    MIN_TEMP = <span class="cn">-50</span>   <span class="cc"># class attribute â€” public constant</span>
    MAX_TEMP = <span class="cn">150</span>

    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, location):
        <span class="ck">self</span>.location = location        <span class="cc"># PUBLIC  â€” name of sensor location</span>
        <span class="ck">self</span>._unit = <span class="cs">"Celsius"</span>          <span class="cc"># PROTECTED â€” subclasses may change</span>
        <span class="ck">self</span>.__reading = <span class="cn">0.0</span>            <span class="cc"># PRIVATE  â€” raw sensor value</span>
        <span class="ck">self</span>.__history = []              <span class="cc"># PRIVATE  â€” reading history</span>

    <span class="cc"># Getter</span>
    <span class="ck">def</span> <span class="cfu">get_reading</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__reading

    <span class="cc"># Setter with validation</span>
    <span class="ck">def</span> <span class="cfu">set_reading</span>(<span class="ck">self</span>, temp):
        <span class="ck">if</span> <span class="cm">TemperatureSensor</span>.MIN_TEMP &lt;= temp &lt;= <span class="cm">TemperatureSensor</span>.MAX_TEMP:
            <span class="ck">self</span>.__history.append(<span class="ck">self</span>.__reading)
            <span class="ck">self</span>.__reading = temp
        <span class="ck">else</span>:
            <span class="ck">print</span>(<span class="cst">f"Error: {temp}Â° out of sensor range!"</span>)

    <span class="cc"># Computed property â€” HL bonus</span>
    <span class="ck">def</span> <span class="cfu">get_average</span>(<span class="ck">self</span>):
        <span class="ck">if</span> <span class="ck">not</span> <span class="ck">self</span>.__history:
            <span class="ck">return</span> <span class="ck">self</span>.__reading
        all_readings = <span class="ck">self</span>.__history + [<span class="ck">self</span>.__reading]
        <span class="ck">return</span> <span class="ck">sum</span>(all_readings) / <span class="ck">len</span>(all_readings)

<span class="cc"># Usage</span>
sensor = <span class="cm">TemperatureSensor</span>(<span class="cs">"Lab Room 3"</span>)
sensor.set_reading(<span class="cn">21.5</span>)
sensor.set_reading(<span class="cn">22.1</span>)
sensor.set_reading(<span class="cn">999</span>)    <span class="cc"># Error â€” out of range</span>
<span class="ck">print</span>(sensor.get_reading())  <span class="cc"># 22.1</span>
<span class="ck">print</span>(sensor.get_average())  <span class="cc"># 21.8</span></div>

    <div class="two" style="margin-top:16px">
      <div class="card c-blue">
        <h3>ğŸ“ IB Exam Questions â€” SL</h3>
        <ul style="font-size:16px;line-height:2">
          <li>Define encapsulation <em>[2 marks]</em></li>
          <li>State the difference between public and private attributes</li>
          <li>Explain why a private attribute is used instead of a public one</li>
          <li>Describe the role of a getter/setter method</li>
          <li>Identify the access modifier of an attribute from code</li>
        </ul>
      </div>
      <div class="card c-purple">
        <h3>ğŸ“ IB Exam Questions â€” HL</h3>
        <ul style="font-size:16px;line-height:2">
          <li>Explain name mangling and how Python implements private attributes</li>
          <li>Write a class using <code>@property</code> with getter and setter</li>
          <li>Discuss advantages of encapsulation in software maintenance</li>
          <li>Compare Python's approach to encapsulation with Java/C++</li>
          <li>Trace through code using private attributes and getters</li>
        </ul>
      </div>
    </div>

    <div class="pnum">B3.1 â€” Encapsulation â€” Page 4</div>
  </div>

  <!-- â”€â”€â”€ Page 5: Interactive Sandbox â”€â”€â”€ -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>

    <div class="page-title">ğŸ§ª Try It: Encapsulation</div>
    <div class="page-sub">Run and experiment with Python code in your browser</div>

    <div class="sb" id="sb-encap1">
      <div class="sb-hd">
        <div class="dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sb-title">ğŸ”’ Explore â€” Access Modifiers</div>
      </div>
      <div class="sb-ed"><textarea class="ce" id="sb-encap1-code">class BankAccount:
    def __init__(self, owner, balance):
        self.owner = owner          # public
        self._bank = "IBDP Bank"   # protected
        self.__balance = balance    # private

    def deposit(self, amount):
        if amount > 0:
            self.__balance += amount
            print(f"Deposited Â£{amount}. Balance: Â£{self.__balance}")
        else:
            print("Amount must be positive!")

    def get_balance(self):
        return self.__balance

acc = BankAccount("Alice", 1000)
print("Owner:", acc.owner)         # public - fine
print("Bank:",  acc._bank)         # protected - works but discouraged
acc.deposit(500)
print("Balance:", acc.get_balance())
# Uncomment the line below to see the AttributeError:
# print(acc.__balance)</textarea></div>
      <div class="sb-ctrl">
        <button class="rb" onclick="runSB('sb-encap1')">â–¶ Run Code</button>
      </div>
      <div class="sb-out" id="sb-encap1-out"><span style="color:#4a5568">â–¸ Output appears here...</span></div>
    </div>

    <div class="challenge-box" style="margin-top:18px">
      <div class="challenge-header">
        <span>ğŸ†</span>
        <span>Challenge â€” Build a fully encapsulated Temperature class</span>
      </div>
      <div class="challenge-body">
        <p style="font-size:17px">Create a <code>Temperature</code> class that:</p>
        <ul style="font-size:17px;margin:10px 0 10px 20px;line-height:1.9">
          <li>Stores temperature as a <strong>private</strong> attribute <code>__celsius</code></li>
          <li>Has a <strong>setter</strong> <code>set_temp(c)</code> â€” rejects values below âˆ’273 (absolute zero)</li>
          <li>Has a <strong>getter</strong> <code>get_celsius()</code> â€” returns the raw value</li>
          <li><span class="hl-badge">HL</span> Has a method <code>get_fahrenheit()</code> â€” converts and returns Â°F</li>
        </ul>
        <div class="expected-output"># Expected output:
Celsius: 100
Fahrenheit: 212.0
Error: -300 is below absolute zero!</div>
      </div>
    </div>

    <div class="sb" id="sb-encap2">
      <div class="sb-hd">
        <div class="dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sb-title">âœï¸ Your Solution</div>
      </div>
      <div class="sb-ed"><textarea class="ce" id="sb-encap2-code">class Temperature:
    def __init__(self, celsius):
        # TODO: store as private attribute __celsius
        pass

    def set_temp(self, c):
        # TODO: reject if c < -273, otherwise store
        pass

    def get_celsius(self):
        # TODO: return the private attribute
        pass

    def get_fahrenheit(self):  # HL
        # TODO: return (celsius * 9/5) + 32
        pass

# Test:
t = Temperature(100)
print("Celsius:", t.get_celsius())
print("Fahrenheit:", t.get_fahrenheit())
t.set_temp(-300)  # should print error</textarea></div>
      <div class="sb-ctrl">
        <button class="rb" onclick="runSB('sb-encap2')">â–¶ Run Code</button>
        <button class="rb" style="background:linear-gradient(135deg,#8e44ad,#9b59b6)" onclick="document.getElementById('encap-sol').style.display=document.getElementById('encap-sol').style.display==='none'?'block':'none'">ğŸ’¡ Show Solution</button>
      </div>
      <div class="sb-out" id="sb-encap2-out"><span style="color:#4a5568">â–¸ Output appears here...</span></div>
    </div>

    <div id="encap-sol" style="display:none;margin-top:12px">
      <div class="code"><span class="ck">class</span> <span class="cm">Temperature</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, celsius):
        <span class="ck">self</span>.__celsius = celsius

    <span class="ck">def</span> <span class="cfu">set_temp</span>(<span class="ck">self</span>, c):
        <span class="ck">if</span> c &lt; <span class="cn">-273</span>:
            <span class="ck">print</span>(<span class="cst">f"Error: {c} is below absolute zero!"</span>)
        <span class="ck">else</span>:
            <span class="ck">self</span>.__celsius = c

    <span class="ck">def</span> <span class="cfu">get_celsius</span>(<span class="ck">self</span>):
        <span class="ck">return</span> <span class="ck">self</span>.__celsius

    <span class="ck">def</span> <span class="cfu">get_fahrenheit</span>(<span class="ck">self</span>):  <span class="cc"># HL</span>
        <span class="ck">return</span> (<span class="ck">self</span>.__celsius * <span class="cn">9</span>/<span class="cn">5</span>) + <span class="cn">32</span>

t = <span class="cm">Temperature</span>(<span class="cn">100</span>)
<span class="ck">print</span>(<span class="cs">"Celsius:"</span>, t.get_celsius())
<span class="ck">print</span>(<span class="cs">"Fahrenheit:"</span>, t.get_fahrenheit())
t.set_temp(<span class="cn">-300</span>)</div>
    </div>

    <div class="pnum">B3.1 â€” Encapsulation â€” Page 5</div>
  </div>

  <!-- Bottom nav -->
  <div style="max-width:1100px;margin:0 auto;padding:10px 0 30px;display:flex;gap:12px;justify-content:center">
    <label for="r-home" class="nav-btn nb-home">ğŸ  Home</label>
    <label for="n-array" class="nav-btn nb-next nb-lg">Next: Array of Objects â†’</label>
  </div>

  </div>
</div>


<!-- NEW PAGE: Practice Questions Sandbox -->

<div id="s-array" class="section">
<div class="page-wrap">
  <div class="topbar">
    <label for="r-home" class="tl home">ğŸ  Home</label>
    <label for="r-b32p3" class="tl back">â† Sandbox</label>
    <span class="tbar-title">Array of Objects</span>
    <label for="n-duck" class="tl fwd">Next â†’</label>
  </div>

<!-- NEW PAGE: Array of Objects (SL) -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div class="page-title">ğŸ“š Array of Objects</div>
  <div class="page-sub">SL Topic â€” Working with collections of class instances</div>

  <div class="bx">
    <p><span class="kt">Array of Objects</span> = storing multiple instances of a class in a list/array. This allows you to <span class="hl">manage collections of related objects</span> and perform operations on all of them efficiently.</p>
  </div>

  <h2>ğŸ¯ Why Use Arrays of Objects?</h2>
  <div class="g3">
    <div class="card cb">
      <h3>ğŸ“Š Manage Collections</h3>
      <p>Store and organize multiple related objects (e.g., all students in a class, all products in inventory)</p>
    </div>
    <div class="card cg">
      <h3>ğŸ”„ Bulk Operations</h3>
      <p>Perform the same action on all objects at once using loops (e.g., calculate all grades, display all items)</p>
    </div>
    <div class="card cp">
      <h3>ğŸ” Search & Filter</h3>
      <p>Find specific objects based on criteria (e.g., find students with grade > 80)</p>
    </div>
  </div>

  <h2>ğŸ“ Basic Example â€” Student Array</h2>
  <div class="g2">
    <div class="cb2">class Student:
    def __init__(self, name, grade):
        self.name = name
        self.grade = grade
    
    def display(self):
        print(f"{self.name}: {self.grade}")

# Create array of Student objects
students = [
    Student("Alice", 87),
    Student("Bob", 92),
    Student("Charlie", 78),
    Student("Diana", 95)
]

# Loop through and call method on each
print("=== All Students ===")
for s in students:
    s.display()

# Calculate average
total = sum(s.grade for s in students)
avg = total / len(students)
print(f"\nClass average: {avg}")

# Find top student
top = max(students, key=lambda s: s.grade)
print(f"Top student: {top.name} ({top.grade})")</div>
    <div>
      <div class="eg">
        <strong>Output:</strong>
        <pre style="font-size:14px;margin:8px 0">Alice: 87
Bob: 92
Charlie: 78
Diana: 95

Class average: 88.0
Top student: Diana (95)</pre>
      </div>
      <div class="note">
        <strong>ğŸ’¡ Key Operations:</strong><br>
        â€¢ <code>for obj in array</code> â€” loop through each object<br>
        â€¢ <code>sum()</code>, <code>max()</code>, <code>min()</code> â€” aggregate functions<br>
        â€¢ <code>array.append(obj)</code> â€” add new object<br>
        â€¢ <code>array.remove(obj)</code> â€” remove object<br>
        â€¢ List comprehension â€” <code>[s for s in students if s.grade > 80]</code>
      </div>
    </div>
  </div>

  <h2>ğŸ” Filtering & Searching</h2>
  <div class="cb2"># Filter students with grade >= 90
high_achievers = [s for s in students if s.grade >= 90]
print("High achievers:")
for s in high_achievers:
    s.display()

# Search for specific student
def find_student(students, name):
    for s in students:
        if s.name == name:
            return s
    return None

student = find_student(students, "Bob")
if student:
    print(f"Found: {student.name} - {student.grade}")
else:
    print("Student not found")</div>

  <h2>ğŸª Real-World Example â€” Inventory System</h2>
  <div class="sb" id="sb-array1">
    <div class="sb-hd">
      <div class="dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
      <div class="sb-title">ğŸ Array of Objects â€” Inventory Management</div>
    </div>
    <div class="sb-ed"><textarea class="ce" id="sb-array1-code">class Product:
    def __init__(self, name, price, stock):
        self.name = name
        self.price = price
        self.stock = stock
    
    def display(self):
        print(f"{self.name}: Â£{self.price} (Stock: {self.stock})")
    
    def restock(self, amount):
        self.stock += amount
        print(f"Restocked {self.name} (+{amount}) â†’ Stock: {self.stock}")
    
    def sell(self, amount):
        if amount <= self.stock:
            self.stock -= amount
            return True
        else:
            print(f"Not enough stock for {self.name}!")
            return False

# Create inventory
inventory = [
    Product("Laptop", 999.99, 5),
    Product("Mouse", 25.99, 50),
    Product("Keyboard", 79.99, 20),
    Product("Monitor", 299.99, 8)
]

print("=== Current Inventory ===")
for p in inventory:
    p.display()

# Calculate total inventory value
total_value = sum(p.price * p.stock for p in inventory)
print(f"\nTotal inventory value: Â£{total_value:.2f}")

# Find low stock items (< 10)
print("\n=== Low Stock Alert ===")
low_stock = [p for p in inventory if p.stock < 10]
for p in low_stock:
    print(f"âš ï¸ {p.name}: only {p.stock} left")

# Restock low items
print("\n=== Restocking ===")
for p in low_stock:
    p.restock(10)

# Process sale
print("\n=== Processing Sale ===")
inventory[0].sell(2)  # Sell 2 laptops
inventory[1].sell(60) # Try to sell 60 mice (will fail)</textarea></div>
    <div class="sb-ctrl">
      <button class="rb" onclick="runSB('sb-array1')">â–¶ Run Code</button>
    </div>
    <div class="sb-out" id="sb-array1-out"><span style="color:#4a5568">â–¸ Output appears here...</span></div>
  </div>

  <div class="pnum">B3.2 â€” Array of Objects</div>
</div>

</div>
</div>

<div id="s-duck" class="section">
<div class="page-wrap">
  <div class="topbar">
    <label for="r-home" class="tl home">ğŸ  Home</label>
    <label for="n-array" class="tl back">â† Array of Objects</label>
    <span class="tbar-title">Duck Typing</span>
    <label for="n-patterns" class="tl fwd">Next â†’</label>
  </div>

<!-- NEW PAGE: Duck Typing & Polymorphism -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div class="page-title">ğŸ¦† Duck Typing in Polymorphism</div>
  <div class="page-sub">Python's approach: "If it walks like a duck and quacks like a duck..."</div>

  <div class="bx">
    <p><span class="kt">Duck Typing</span> = Python doesn't check the type of an object â€” it only cares if the object <span class="hl">has the method/attribute you're trying to use</span>. "If it looks like a duck and quacks like a duck, treat it as a duck."</p>
  </div>

  <h2>ğŸ”„ Traditional vs Duck Typing</h2>
  <div class="g2">
    <div class="card co">
      <h3>ğŸ›ï¸ Traditional (Java/C++)</h3>
      <p>Objects must inherit from same base class to be used polymorphically. Type checking at compile time.</p>
      <div class="cb2" style="font-size:12px">// Java - needs common interface
interface Flyable {
    void fly();
}

class Bird implements Flyable {
    void fly() { ... }
}

class Plane implements Flyable {
    void fly() { ... }
}</div>
    </div>
    <div class="card cg">
      <h3>ğŸ¦† Duck Typing (Python)</h3>
      <p>No inheritance needed! If object has the method, it works. Type checking at runtime.</p>
      <div class="cb2" style="font-size:12px"># Python - no common base needed!
class Bird:
    def fly(self): print("Flapping wings")

class Plane:
    def fly(self): print("Jet engines")

# Both work - they have fly() method
things = [Bird(), Plane()]
for t in things:
    t.fly()  # âœ“ Works!</div>
    </div>
  </div>

  <h2>ğŸ“‹ Duck Typing Example</h2>
  <div class="cb2"># No inheritance relationship!
class Dog:
    def speak(self):
        return "Woof!"

class Cat:
    def speak(self):
        return "Meow!"

class Robot:
    def speak(self):
        return "Beep boop!"

class Car:
    def drive(self):  # No speak() method!
        return "Vroom!"

# Function expects any object with speak() method
def make_it_speak(thing):
    print(thing.speak())

# All work - they have speak()
make_it_speak(Dog())    # Woof!
make_it_speak(Cat())    # Meow!
make_it_speak(Robot())  # Beep boop!

# This would fail - Car has no speak()
# make_it_speak(Car())  # AttributeError!</div>

  <div class="info">
    <strong>ğŸ’¡ Key Point:</strong> Dog, Cat, and Robot don't share a parent class, but they all have a <code>speak()</code> method â€” so they can all be used interchangeably! This is duck typing.
  </div>

  <h2>ğŸ¯ Real-World Duck Typing</h2>
  <div class="sb" id="sb-duck">
    <div class="sb-hd">
      <div class="dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
      <div class="sb-title">ğŸ Duck Typing â€” Payment Processing</div>
    </div>
    <div class="sb-ed"><textarea class="ce" id="sb-duck-code"># Different payment methods - NO common base class!
class CreditCard:
    def __init__(self, number):
        self.number = number
    
    def process_payment(self, amount):
        print(f"Processing Â£{amount} with Credit Card {self.number[-4:]}")
        return True

class PayPal:
    def __init__(self, email):
        self.email = email
    
    def process_payment(self, amount):
        print(f"Processing Â£{amount} via PayPal ({self.email})")
        return True

class BankTransfer:
    def __init__(self, account):
        self.account = account
    
    def process_payment(self, amount):
        print(f"Processing Â£{amount} via Bank Transfer to {self.account}")
        return True

class Crypto:
    def __init__(self, wallet):
        self.wallet = wallet
    
    def process_payment(self, amount):
        print(f"Processing Â£{amount} in Bitcoin to {self.wallet}")
        return True

# Checkout function - doesn't care about type!
# It only needs an object with process_payment() method
def checkout(payment_method, amount):
    print(f"\n--- Checkout: Â£{amount} ---")
    if payment_method.process_payment(amount):
        print("âœ“ Payment successful!\n")
    else:
        print("âœ— Payment failed!\n")

# All these work - duck typing in action!
checkout(CreditCard("1234-5678-9012-3456"), 99.99)
checkout(PayPal("alice@email.com"), 149.50)
checkout(BankTransfer("GB29NWBK60161331926819"), 1299.00)
checkout(Crypto("1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"), 49.99)

print("=== Duck Typing Benefit ===")
print("We can add NEW payment methods without changing checkout()!")
print("As long as they have process_payment(), they work!")</textarea></div>
    <div class="sb-ctrl">
      <button class="rb" onclick="runSB('sb-duck')">â–¶ Run Code</button>
    </div>
    <div class="sb-out" id="sb-duck-out"><span style="color:#4a5568">â–¸ Output appears here...</span></div>
  </div>

  <div class="g2">
    <div class="note">
      <strong>âœ… Advantages of Duck Typing:</strong>
      <ul style="font-size:15px;margin-top:6px">
        <li>Flexible â€” no rigid inheritance hierarchies needed</li>
        <li>Easy to extend â€” add new classes without modifying existing code</li>
        <li>Natural in Python â€” fits Python's dynamic nature</li>
      </ul>
    </div>
    <div class="warn">
      <strong>âš ï¸ Disadvantages:</strong>
      <ul style="font-size:15px;margin-top:6px">
        <li>No compile-time type checking (errors at runtime)</li>
        <li>Can be harder to debug (unclear what methods are expected)</li>
        <li>Documentation becomes crucial</li>
      </ul>
    </div>
  </div>

  <div class="exam">
    <strong>ğŸ“‹ IB Exam Context:</strong> Duck typing is Python-specific. When answering inheritance/polymorphism questions, be aware of whether the language uses static typing (Java/C++) or duck typing (Python). For IB, focus on the <em>concept</em> â€” polymorphism works differently in different languages!
  </div>

  <div class="pnum">B3.2 â€” Duck Typing</div>
</div>

</div>
</div>

<div id="s-patterns" class="section">
<div class="page-wrap">
  <div class="topbar">
    <label for="r-home" class="tl home">ğŸ  Home</label>
    <label for="n-duck" class="tl back">â† Duck Typing</label>
    <span class="tbar-title">Design Patterns (HL)</span>
    <label for="n-uml" class="tl fwd">Next â†’</label>
  </div>

<!-- NEW PAGE: Design Patterns (HL ONLY) -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div style="background:linear-gradient(135deg,#e63946,#c1121f);color:#fff;padding:12px 20px;border-radius:10px;text-align:center;margin-bottom:14px">
    <span style="font-size:20px;font-weight:bold">ğŸ“ HIGHER LEVEL ONLY</span>
  </div>

  <div class="page-title">ğŸ—ï¸ Design Patterns</div>
  <div class="page-sub">B3.2.5 â€” HL ONLY: Singleton, Factory, Observer</div>

  <div class="bx">
    <p><span class="kt">Design Pattern</span> = a reusable solution to a <span class="hl">commonly occurring problem</span> in software design. Like blueprints for solving recurring programming challenges. Created by the "Gang of Four" (GoF).</p>
  </div>

  <h2>ğŸ“š Why Design Patterns?</h2>
  <div class="g3">
    <div class="card cb">
      <h3>ğŸ” Proven Solutions</h3>
      <p>Battle-tested approaches used by millions of developers worldwide</p>
    </div>
    <div class="card cg">
      <h3>ğŸ’¬ Common Language</h3>
      <p>Developers can communicate complex ideas with a single word ("use Singleton")</p>
    </div>
    <div class="card cp">
      <h3>ğŸš€ Faster Development</h3>
      <p>Don't reinvent the wheel â€” apply known patterns to solve problems quickly</p>
    </div>
  </div>

  <h2>ğŸ”· Pattern 1: Singleton</h2>
  <div class="hl-box">
    <strong>ğŸ“ HL ONLY</strong> â€” Ensure a class has only ONE instance, and provide global access to it
  </div>

  <div class="g2">
    <div>
      <h3>â“ When to use?</h3>
      <ul style="font-size:16px">
        <li>Database connections (only one connection pool needed)</li>
        <li>Configuration managers (one config object for entire app)</li>
        <li>Logging systems (one logger for all components)</li>
        <li>Device drivers (only one printer manager)</li>
      </ul>
      <div class="eg">
        <strong>Real-world analogy:</strong> A country has only ONE president at a time. Every department accesses the <em>same</em> president object, not different instances.
      </div>
    </div>
    <div>
      <h3>UML Diagram:</h3>
      <svg viewBox="0 0 280 160" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:280px;font-family:'JetBrains Mono',monospace">
        <rect x="5" y="5" width="270" height="150" rx="6" fill="#f0f7ff" stroke="#1a4e8a" stroke-width="3"/>
        <rect x="5" y="5" width="270" height="35" rx="6" fill="#1a4e8a"/>
        <text x="140" y="28" text-anchor="middle" font-size="16" fill="#fff" font-weight="bold">Singleton</text>
        <line x1="5" y1="40" x2="275" y2="40" stroke="#1a4e8a" stroke-width="2"/>
        <text x="15" y="60" font-size="12" fill="#2c3e50">- instance : Singleton</text>
        <line x1="5" y1="68" x2="275" y2="68" stroke="#1a4e8a" stroke-width="2"/>
        <text x="15" y="88" font-size="12" fill="#2c3e50">- __init__() : void</text>
        <text x="15" y="108" font-size="12" fill="#2c3e50">+ get_instance() : Singleton</text>
        <text x="15" y="128" font-size="12" fill="#2c3e50">+ some_method() : void</text>
      </svg>
    </div>
  </div>

  <div class="cb2">class DatabaseConnection:
    _instance = None  # Class variable stores the single instance
    
    def __new__(cls):
        # __new__ controls object creation (before __init__)
        if cls._instance is None:
            cls._instance = super().__new__(cls)
            print("Creating new DatabaseConnection instance")
        else:
            print("Returning existing instance")
        return cls._instance
    
    def __init__(self):
        # Only initialize once
        if not hasattr(self, 'connected'):
            self.connected = True
            print("Connected to database")

# Test Singleton behavior
db1 = DatabaseConnection()
db2 = DatabaseConnection()
db3 = DatabaseConnection()

print(f"\ndb1 is db2: {db1 is db2}")  # True!
print(f"db2 is db3: {db2 is db3}")  # True!
print(f"All three are the SAME object: {db1 is db2 is db3}")</div>

  <div class="pnum">B3.2 â€” Design Patterns (HL) â€” Page 1</div>
</div>

<!-- Design Patterns Page 2 -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div style="background:linear-gradient(135deg,#e63946,#c1121f);color:#fff;padding:12px 20px;border-radius:10px;text-align:center;margin-bottom:14px">
    <span style="font-size:20px;font-weight:bold">ğŸ“ HIGHER LEVEL ONLY</span>
  </div>

  <h2>ğŸ­ Pattern 2: Factory</h2>
  <div class="hl-box">
    <strong>ğŸ“ HL ONLY</strong> â€” Create objects without specifying the exact class. Let a factory method decide which class to instantiate.
  </div>

  <div class="g2">
    <div>
      <h3>â“ When to use?</h3>
      <ul style="font-size:16px">
        <li>Object creation logic is complex</li>
        <li>Don't know exact type until runtime</li>
        <li>Want to hide creation details from client</li>
        <li>Need to create different types based on input</li>
      </ul>
      <div class="eg">
        <strong>Real-world analogy:</strong> Restaurant kitchen. Customer orders "burger" â€” kitchen decides whether to make BeefBurger, ChickenBurger, or VeggieBurger based on customer's choice.
      </div>
    </div>
    <div>
      <h3>UML Diagram:</h3>
      <svg viewBox="0 0 380 240" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:380px;font-family:'JetBrains Mono',monospace;font-size:11px">
        <!-- Factory -->
        <rect x="120" y="5" width="140" height="70" rx="5" fill="#fff8f0" stroke="#f4874b" stroke-width="2.5"/>
        <rect x="120" y="5" width="140" height="25" rx="5" fill="#f4874b"/>
        <text x="190" y="22" text-anchor="middle" font-size="13" fill="#fff" font-weight="bold">ShapeFactory</text>
        <line x1="120" y1="30" x2="260" y2="30" stroke="#f4874b" stroke-width="2"/>
        <text x="130" y="50" fill="#2c3e50">+ create(type)</text>
        <text x="190" y="68" text-anchor="middle" fill="#2c3e50">returns Shape</text>
        <!-- Arrow down -->
        <line x1="190" y1="75" x2="190" y2="95" stroke="#2c3e50" stroke-width="2"/>
        <text x="205" y="90" fill="#666" font-size="10">creates</text>
        <!-- Base Shape -->
        <rect x="120" y="95" width="140" height="50" rx="5" fill="#e8f4fd" stroke="#1a4e8a" stroke-width="2.5"/>
        <rect x="120" y="95" width="140" height="22" rx="5" fill="#1a4e8a"/>
        <text x="190" y="111" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Shape</text>
        <text x="130" y="135" fill="#2c3e50">+ draw()</text>
        <!-- Inheritance arrows -->
        <line x1="130" y1="145" x2="130" y2="165" stroke="#2c3e50" stroke-width="2"/>
        <line x1="190" y1="145" x2="190" y2="165" stroke="#2c3e50" stroke-width="2"/>
        <line x1="250" y1="145" x2="250" y2="165" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="130,165 125,175 135,175" fill="#fff" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="190,165 185,175 195,175" fill="#fff" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="250,165 245,175 255,175" fill="#fff" stroke="#2c3e50" stroke-width="2"/>
        <!-- Subclasses -->
        <rect x="10" y="180" width="110" height="50" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
        <rect x="10" y="180" width="110" height="22" rx="5" fill="#2d9e5f"/>
        <text x="65" y="196" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">Circle</text>
        <text x="20" y="220" fill="#2c3e50">+ draw()</text>
        
        <rect x="135" y="180" width="110" height="50" rx="5" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2"/>
        <rect x="135" y="180" width="110" height="22" rx="5" fill="#7c3aed"/>
        <text x="190" y="196" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">Square</text>
        <text x="145" y="220" fill="#2c3e50">+ draw()</text>
        
        <rect x="260" y="180" width="110" height="50" rx="5" fill="#fff0f0" stroke="#e63946" stroke-width="2"/>
        <rect x="260" y="180" width="110" height="22" rx="5" fill="#e63946"/>
        <text x="315" y="196" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">Triangle</text>
        <text x="270" y="220" fill="#2c3e50">+ draw()</text>
      </svg>
    </div>
  </div>

  <div class="cb2">class Shape:
    def draw(self):
        pass

class Circle(Shape):
    def draw(self):
        print("Drawing a Circle â­•")

class Square(Shape):
    def draw(self):
        print("Drawing a Square â¬œ")

class Triangle(Shape):
    def draw(self):
        print("Drawing a Triangle ğŸ”º")

# Factory class
class ShapeFactory:
    @staticmethod
    def create_shape(shape_type):
        """Factory method - decides which class to instantiate"""
        if shape_type == "circle":
            return Circle()
        elif shape_type == "square":
            return Square()
        elif shape_type == "triangle":
            return Triangle()
        else:
            raise ValueError(f"Unknown shape: {shape_type}")

# Client code doesn't know about Circle, Square, Triangle classes!
# It only knows the factory
print("=== Factory Pattern Demo ===")
shapes_needed = ["circle", "square", "triangle", "circle"]

for shape_type in shapes_needed:
    shape = ShapeFactory.create_shape(shape_type)
    shape.draw()

print("\nâœ“ Benefit: Client code is decoupled from concrete classes")</div>

  <div class="pnum">B3.2 â€” Design Patterns (HL) â€” Page 2</div>
</div>

<!-- Design Patterns Page 3 -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div style="background:linear-gradient(135deg,#e63946,#c1121f);color:#fff;padding:12px 20px;border-radius:10px;text-align:center;margin-bottom:14px">
    <span style="font-size:20px;font-weight:bold">ğŸ“ HIGHER LEVEL ONLY</span>
  </div>

  <h2>ğŸ‘ï¸ Pattern 3: Observer</h2>
  <div class="hl-box">
    <strong>ğŸ“ HL ONLY</strong> â€” Define a one-to-many dependency: when one object changes state, all dependents are notified automatically
  </div>

  <div class="g2">
    <div>
      <h3>â“ When to use?</h3>
      <ul style="font-size:16px">
        <li>Event handling systems (GUI, notifications)</li>
        <li>Model-View architecture (update UI when data changes)</li>
        <li>Pub/Sub systems (news feeds, stock tickers)</li>
        <li>Any time multiple objects need to react to one object's changes</li>
      </ul>
      <div class="eg">
        <strong>Real-world analogy:</strong> YouTube channel. When creator uploads video, ALL subscribers get notified automatically. Subscribers don't check manually â€” they're "observing" and get pushed updates.
      </div>
    </div>
    <div>
      <h3>UML Diagram:</h3>
      <svg viewBox="0 0 350 200" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:350px;font-family:'JetBrains Mono',monospace;font-size:10px">
        <!-- Subject -->
        <rect x="10" y="10" width="150" height="85" rx="5" fill="#fff8f0" stroke="#f4874b" stroke-width="2.5"/>
        <rect x="10" y="10" width="150" height="24" rx="5" fill="#f4874b"/>
        <text x="85" y="27" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Subject</text>
        <text x="20" y="48" fill="#2c3e50">- observers: []</text>
        <line x1="10" y1="54" x2="160" y2="54" stroke="#f4874b" stroke-width="2"/>
        <text x="20" y="70" fill="#2c3e50">+ attach(obs)</text>
        <text x="20" y="85" fill="#2c3e50">+ notify()</text>
        <!-- Arrow to Observer -->
        <line x1="160" y1="52" x2="190" y2="52" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
        <text x="168" y="48" fill="#666" font-size="9">notifies</text>
        <!-- Observer Interface -->
        <rect x="190" y="10" width="150" height="65" rx="5" fill="#e8f4fd" stroke="#1a4e8a" stroke-width="2.5"/>
        <rect x="190" y="10" width="150" height="24" rx="5" fill="#1a4e8a"/>
        <text x="265" y="27" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Observer</text>
        <line x1="190" y1="34" x2="340" y2="34" stroke="#1a4e8a" stroke-width="2"/>
        <text x="200" y="52" fill="#2c3e50">+ update(data)</text>
        <!-- Concrete observers -->
        <line x1="240" y1="75" x2="240" y2="105" stroke="#2c3e50" stroke-width="2"/>
        <line x1="290" y1="75" x2="290" y2="105" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="240,105 235,115 245,115" fill="#fff" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="290,105 285,115 295,115" fill="#fff" stroke="#2c3e50" stroke-width="2"/>
        
        <rect x="175" y="120" width="120" height="40" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
        <rect x="175" y="120" width="120" height="22" rx="5" fill="#2d9e5f"/>
        <text x="235" y="136" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">EmailObserver</text>
        <text x="185" y="153" fill="#2c3e50">+ update()</text>
        
        <rect x="10" y="120" width="120" height="40" rx="5" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2"/>
        <rect x="10" y="120" width="120" height="22" rx="5" fill="#7c3aed"/>
        <text x="70" y="136" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">SMSObserver</text>
        <text x="20" y="153" fill="#2c3e50">+ update()</text>
        
        <defs>
          <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
          </marker>
        </defs>
      </svg>
    </div>
  </div>

  <div class="sb" id="sb-observer">
    <div class="sb-hd">
      <div class="dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
      <div class="sb-title">ğŸ Observer Pattern â€” Stock Price Alerts</div>
    </div>
    <div class="sb-ed"><textarea class="ce" id="sb-observer-code"># Observer interface
class Observer:
    def update(self, stock_name, price):
        pass

# Concrete Observers
class EmailAlert(Observer):
    def __init__(self, email):
        self.email = email
    
    def update(self, stock_name, price):
        print(f"ğŸ“§ Email to {self.email}: {stock_name} is now Â£{price}")

class SMSAlert(Observer):
    def __init__(self, phone):
        self.phone = phone
    
    def update(self, stock_name, price):
        print(f"ğŸ“± SMS to {self.phone}: {stock_name} price: Â£{price}")

class AppNotification(Observer):
    def __init__(self, user):
        self.user = user
    
    def update(self, stock_name, price):
        print(f"ğŸ”” Push notification to {self.user}: {stock_name} â†’ Â£{price}")

# Subject (Observable)
class Stock:
    def __init__(self, name, price):
        self.name = name
        self._price = price
        self._observers = []
    
    def attach(self, observer):
        """Register an observer"""
        self._observers.append(observer)
        print(f"âœ“ Observer registered for {self.name}")
    
    def detach(self, observer):
        """Unregister an observer"""
        self._observers.remove(observer)
    
    def notify(self):
        """Notify all observers of price change"""
        for observer in self._observers:
            observer.update(self.name, self._price)
    
    def set_price(self, new_price):
        """Change price and notify observers"""
        print(f"\nğŸ’° {self.name} price changed: Â£{self._price} â†’ Â£{new_price}")
        self._price = new_price
        self.notify()  # Automatically notify all observers!

# Demo
print("=== Observer Pattern Demo ===\n")

# Create stock
apple_stock = Stock("AAPL", 150.00)

# Create observers
email = EmailAlert("alice@example.com")
sms = SMSAlert("+44 7700 900123")
app = AppNotification("Alice")

# Subscribe observers to stock
apple_stock.attach(email)
apple_stock.attach(sms)
apple_stock.attach(app)

# Change stock price - all observers notified automatically!
apple_stock.set_price(155.50)
apple_stock.set_price(148.25)

print("\nâœ“ All subscribers notified automatically!")
print("âœ“ Stock doesn't need to know WHO is observing - it just notifies everyone")</textarea></div>
    <div class="sb-ctrl">
      <button class="rb" onclick="runSB('sb-observer')">â–¶ Run Code</button>
    </div>
    <div class="sb-out" id="sb-observer-out"><span style="color:#4a5568">â–¸ Output appears here...</span></div>
  </div>

  <div class="exam">
    <strong>ğŸ“‹ IB HL Exam Tip:</strong> For "Explain the Observer pattern" questions (4 marks):<br>
    <strong>[2 marks]</strong> Define: One-to-many dependency where subject notifies observers of state changes<br>
    <strong>[1 mark]</strong> Use case: Event systems, MVC architecture, notifications<br>
    <strong>[1 mark]</strong> Benefit: Loose coupling â€” subject doesn't need to know observer details
  </div>

  <div class="pnum">B3.2 â€” Design Patterns (HL) â€” Page 3</div>
</div>

</div>
</div>

<div id="s-uml" class="section">
<div class="page-wrap">
  <div class="topbar">
    <label for="r-home" class="tl home">ğŸ  Home</label>
    <label for="n-patterns" class="tl back">â† Design Patterns</label>
    <span class="tbar-title">UML Relationships</span>
    <label for="r-practice" class="tl fwd">Next â†’</label>
  </div>

<!-- NEW PAGE: UML Relationships -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div class="page-title">ğŸ“ UML Class Relationships</div>
  <div class="page-sub">Complete guide to all UML relationship types</div>

  <h2>ğŸ”— Types of Relationships</h2>
  <table>
    <tr><th>Relationship</th><th>Meaning</th><th>Arrow</th><th>Example</th></tr>
    <tr><td><strong>Inheritance</strong></td><td>IS-A relationship</td><td>Open triangle â–³</td><td>Dog IS-A Animal</td></tr>
    <tr><td><strong>Association</strong></td><td>HAS-A / uses</td><td>Simple line â€”</td><td>Student HAS-A Course</td></tr>
    <tr><td><strong>Aggregation</strong></td><td>HAS-A (weak ownership)</td><td>Open diamond â—‡â€”</td><td>Team HAS Players</td></tr>
    <tr><td><strong>Composition</strong><td>HAS-A (strong ownership)</td><td>Filled diamond â—†â€”</td><td>House HAS Rooms</td></tr>
    <tr><td><strong>Dependency</strong></td><td>Uses temporarily</td><td>Dashed arrow - - ></td><td>Client uses Service</td></tr>
    <tr><td><strong>Realization</strong></td><td>Implements interface</td><td>Dashed triangle - -â–³</td><td>Class implements Interface</td></tr>
  </table>

  <h2>â–³ Inheritance (Generalization)</h2>
  <div class="g2">
    <div>
      <svg viewBox="0 0 280 200" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:280px;font-family:'JetBrains Mono',monospace">
        <!-- Parent -->
        <rect x="70" y="10" width="140" height="60" rx="5" fill="#e8f4fd" stroke="#1a4e8a" stroke-width="2.5"/>
        <rect x="70" y="10" width="140" height="22" rx="5" fill="#1a4e8a"/>
        <text x="140" y="26" text-anchor="middle" font-size="13" fill="#fff" font-weight="bold">Vehicle</text>
        <text x="80" y="48" font-size="11" fill="#2c3e50">+ brand</text>
        <text x="80" y="63" font-size="11" fill="#2c3e50">+ start()</text>
        <!-- Inheritance arrows -->
        <line x1="90" y1="70" x2="90" y2="95" stroke="#1a4e8a" stroke-width="2"/>
        <line x1="190" y1="70" x2="190" y2="95" stroke="#1a4e8a" stroke-width="2"/>
        <polygon points="90,95 85,105 95,105" fill="#fff" stroke="#1a4e8a" stroke-width="2"/>
        <polygon points="190,95 185,105 195,105" fill="#fff" stroke="#1a4e8a" stroke-width="2"/>
        <!-- Children -->
        <rect x="10" y="110" width="120" height="50" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
        <rect x="10" y="110" width="120" height="22" rx="5" fill="#2d9e5f"/>
        <text x="70" y="126" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Car</text>
        <text x="20" y="148" font-size="11" fill="#2c3e50">+ doors</text>
        
        <rect x="150" y="110" width="120" height="50" rx="5" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2"/>
        <rect x="150" y="110" width="120" height="22" rx="5" fill="#7c3aed"/>
        <text x="210" y="126" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Motorcycle</text>
        <text x="160" y="148" font-size="11" fill="#2c3e50">+ has_sidecar</text>
        <text x="140" y="185" font-size="10" fill="#666">â–³ = inherits from (IS-A)</text>
      </svg>
    </div>
    <div>
      <div class="cb2" style="font-size:12px">class Vehicle:
    def start(self): pass

class Car(Vehicle):  # IS-A
    pass

class Motorcycle(Vehicle): # IS-A
    pass</div>
      <div class="note" style="margin-top:10px">
        <strong>Key:</strong> Open triangle points to parent. Child "IS-A" parent.
      </div>
    </div>
  </div>

  <h2>â€” Association</h2>
  <div class="g2">
    <div>
      <svg viewBox="0 0 320 110" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:320px;font-family:'JetBrains Mono',monospace">
        <rect x="10" y="10" width="120" height="60" rx="5" fill="#fff0f0" stroke="#e63946" stroke-width="2"/>
        <rect x="10" y="10" width="120" height="22" rx="5" fill="#e63946"/>
        <text x="70" y="26" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Student</text>
        <text x="20" y="48" font-size="11" fill="#2c3e50">+ name</text>
        <text x="20" y="63" font-size="11" fill="#2c3e50">+ enroll()</text>
        
        <!-- Association line -->
        <line x1="130" y1="40" x2="190" y2="40" stroke="#2c3e50" stroke-width="2"/>
        <text x="145" y="35" font-size="10" fill="#666">attends</text>
        <text x="145" y="55" font-size="9" fill="#666">1..*</text>
        <text x="175" y="55" font-size="9" fill="#666">1..*</text>
        
        <rect x="190" y="10" width="120" height="60" rx="5" fill="#e6fffe" stroke="#0ea5a0" stroke-width="2"/>
        <rect x="190" y="10" width="120" height="22" rx="5" fill="#0ea5a0"/>
        <text x="250" y="26" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Course</text>
        <text x="200" y="48" font-size="11" fill="#2c3e50">+ code</text>
        <text x="200" y="63" font-size="11" fill="#2c3e50">+ title</text>
        <text x="160" y="95" font-size="10" fill="#666" text-anchor="middle">â€” = uses/has (many-to-many)</text>
      </svg>
    </div>
    <div>
      <div class="cb2" style="font-size:12px">class Student:
    def __init__(self):
        self.courses = []  # HAS
    
class Course:
    def __init__(self):
        self.students = []  # HAS</div>
      <div class="note" style="margin-top:10px">
        <strong>Key:</strong> Simple line. Both objects can exist independently. Multiplicity shows count (1..*, 0..1, etc).
      </div>
    </div>
  </div>

  <h2>â—‡ Aggregation vs â—† Composition</h2>
  <div class="g2">
    <div>
      <h3>â—‡ Aggregation (Weak)</h3>
      <svg viewBox="0 0 250 110" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:250px;font-family:'JetBrains Mono',monospace">
        <rect x="10" y="20" width="100" height="50" rx="5" fill="#fffde7" stroke="#f4c431" stroke-width="2"/>
        <rect x="10" y="20" width="100" height="20" rx="5" fill="#f4c431"/>
        <text x="60" y="35" text-anchor="middle" font-size="11" fill="#000">Team</text>
        <text x="20" y="58" font-size="10" fill="#2c3e50">+ players</text>
        
        <line x1="110" y1="45" x2="140" y2="45" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="110,45 115,40 115,50" fill="#fff" stroke="#2c3e50" stroke-width="2"/>
        <text x="118" y="40" font-size="9" fill="#666">has</text>
        
        <rect x="140" y="20" width="100" height="50" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
        <rect x="140" y="20" width="100" height="20" rx="5" fill="#2d9e5f"/>
        <text x="190" y="35" text-anchor="middle" font-size="11" fill="#fff">Player</text>
        <text x="150" y="58" font-size="10" fill="#2c3e50">+ name</text>
        <text x="125" y="95" text-anchor="middle" font-size="9" fill="#666">Team deleted â†’ Players still exist</text>
      </svg>
      <div class="info" style="font-size:14px;margin-top:8px">
        Parts can exist without the whole. Players exist even if team disbands.
      </div>
    </div>
    <div>
      <h3>â—† Composition (Strong)</h3>
      <svg viewBox="0 0 250 110" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:250px;font-family:'JetBrains Mono',monospace">
        <rect x="10" y="20" width="100" height="50" rx="5" fill="#fff0f0" stroke="#e63946" stroke-width="2"/>
        <rect x="10" y="20" width="100" height="20" rx="5" fill="#e63946"/>
        <text x="60" y="35" text-anchor="middle" font-size="11" fill="#fff">House</text>
        <text x="20" y="58" font-size="10" fill="#2c3e50">+ rooms</text>
        
        <line x1="110" y1="45" x2="140" y2="45" stroke="#2c3e50" stroke-width="2"/>
        <polygon points="110,45 115,40 115,50 110,45" fill="#2c3e50" stroke="#2c3e50" stroke-width="2"/>
        <text x="118" y="40" font-size="9" fill="#666">owns</text>
        
        <rect x="140" y="20" width="100" height="50" rx="5" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2"/>
        <rect x="140" y="20" width="100" height="20" rx="5" fill="#7c3aed"/>
        <text x="190" y="35" text-anchor="middle" font-size="11" fill="#fff">Room</text>
        <text x="150" y="58" font-size="10" fill="#2c3e50">+ size</text>
        <text x="125" y="95" text-anchor="middle" font-size="9" fill="#666">House deleted â†’ Rooms destroyed too</text>
      </svg>
      <div class="warn" style="font-size:14px;margin-top:8px">
        Parts cannot exist without the whole. Rooms are destroyed when house is demolished.
      </div>
    </div>
  </div>

  <div class="pnum">UML Relationships â€” Page 1</div>
</div>

<!-- UML Relationships Page 2 -->
<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <h2>- - > Dependency</h2>
  <div class="g2">
    <div>
      <svg viewBox="0 0 280 100" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:280px;font-family:'JetBrains Mono',monospace">
        <rect x="10" y="20" width="110" height="55" rx="5" fill="#e8f4fd" stroke="#1a4e8a" stroke-width="2"/>
        <rect x="10" y="20" width="110" height="20" rx="5" fill="#1a4e8a"/>
        <text x="65" y="35" text-anchor="middle" font-size="11" fill="#fff">Client</text>
        <text x="20" y="54" font-size="10" fill="#2c3e50">+ request()</text>
        <text x="20" y="68" font-size="10" fill="#2c3e50">+ process()</text>
        
        <line x1="120" y1="47" x2="160" y2="47" stroke="#2c3e50" stroke-width="2" stroke-dasharray="5,5"/>
        <polygon points="160,47 155,44 155,50" fill="#2c3e50"/>
        <text x="130" y="43" font-size="9" fill="#666">uses</text>
        
        <rect x="160" y="20" width="110" height="55" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
        <rect x="160" y="20" width="110" height="20" rx="5" fill="#2d9e5f"/>
        <text x="215" y="35" text-anchor="middle" font-size="11" fill="#fff">Service</text>
        <text x="170" y="54" font-size="10" fill="#2c3e50">+ handle()</text>
        <text x="170" y="68" font-size="10" fill="#2c3e50">+ respond()</text>
        <text x="140" y="92" text-anchor="middle" font-size="9" fill="#666">- - > Client temporarily uses Service</text>
      </svg>
    </div>
    <div>
      <div class="cb2" style="font-size:12px">class Client:
    def request(self, service):
        # Uses service temporarily
        service.handle()

class Service:
    def handle(self): pass</div>
      <div class="note" style="margin-top:10px">
        <strong>Key:</strong> Dashed arrow. One class uses another temporarily (parameter, local variable). Weakest relationship.
      </div>
    </div>
  </div>

  <h2>- -â–³ Realization (Interface Implementation)</h2>
  <div class="g2">
    <div>
      <svg viewBox="0 0 280 160" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:280px;font-family:'JetBrains Mono',monospace">
        <!-- Interface -->
        <rect x="70" y="10" width="140" height="50" rx="5" fill="#f5eef8" stroke="#7c3aed" stroke-width="2" stroke-dasharray="5,5"/>
        <rect x="70" y="10" width="140" height="20" rx="5" fill="#7c3aed"/>
        <text x="140" y="25" text-anchor="middle" font-size="11" fill="#fff">Â«interfaceÂ» Drawable</text>
        <text x="80" y="48" font-size="10" fill="#2c3e50">+ draw()</text>
        
        <!-- Implementation arrows -->
        <line x1="90" y1="60" x2="90" y2="85" stroke="#7c3aed" stroke-width="2" stroke-dasharray="5,5"/>
        <line x1="190" y1="60" x2="190" y2="85" stroke="#7c3aed" stroke-width="2" stroke-dasharray="5,5"/>
        <polygon points="90,85 85,95 95,95" fill="#fff" stroke="#7c3aed" stroke-width="2"/>
        <polygon points="190,85 185,95 195,95" fill="#fff" stroke="#7c3aed" stroke-width="2"/>
        
        <!-- Implementations -->
        <rect x="10" y="100" width="120" height="45" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
        <rect x="10" y="100" width="120" height="20" rx="5" fill="#2d9e5f"/>
        <text x="70" y="115" text-anchor="middle" font-size="11" fill="#fff">Circle</text>
        <text x="20" y="136" font-size="10" fill="#2c3e50">+ draw()</text>
        
        <rect x="150" y="100" width="120" height="45" rx="5" fill="#fff0f0" stroke="#e63946" stroke-width="2"/>
        <rect x="150" y="100" width="120" height="20" rx="5" fill="#e63946"/>
        <text x="210" y="115" text-anchor="middle" font-size="11" fill="#fff">Square</text>
        <text x="160" y="136" font-size="10" fill="#2c3e50">+ draw()</text>
      </svg>
    </div>
    <div>
      <div class="cb2" style="font-size:12px"># Python - informal interface
class Drawable:
    def draw(self): pass

class Circle(Drawable):
    def draw(self):
        print("Drawing circle")

class Square(Drawable):
    def draw(self):
        print("Drawing square")</div>
      <div class="note" style="margin-top:10px">
        <strong>Key:</strong> Dashed line with open triangle. Class implements interface/abstract class. Common in Java/C# (less in Python).
      </div>
    </div>
  </div>

  <h2>ğŸ“Š Complete Example â€” School System</h2>
  <svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:600px;font-family:'JetBrains Mono',monospace;font-size:10px">
    <!-- Person (base class) -->
    <rect x="230" y="10" width="140" height="65" rx="5" fill="#e8f4fd" stroke="#1a4e8a" stroke-width="2.5"/>
    <rect x="230" y="10" width="140" height="22" rx="5" fill="#1a4e8a"/>
    <text x="300" y="26" text-anchor="middle" font-size="13" fill="#fff" font-weight="bold">Person</text>
    <text x="240" y="46" fill="#2c3e50">+ name: String</text>
    <text x="240" y="61" fill="#2c3e50">+ age: int</text>
    
    <!-- Inheritance to Student and Teacher -->
    <line x1="260" y1="75" x2="260" y2="105" stroke="#1a4e8a" stroke-width="2"/>
    <line x1="340" y1="75" x2="340" y2="105" stroke="#1a4e8a" stroke-width="2"/>
    <polygon points="260,105 255,115 265,115" fill="#fff" stroke="#1a4e8a" stroke-width="2"/>
    <polygon points="340,105 335,115 345,115" fill="#fff" stroke="#1a4e8a" stroke-width="2"/>
    
    <!-- Student -->
    <rect x="180" y="120" width="140" height="75" rx="5" fill="#eafaf2" stroke="#2d9e5f" stroke-width="2"/>
    <rect x="180" y="120" width="140" height="22" rx="5" fill="#2d9e5f"/>
    <text x="250" y="136" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Student</text>
    <text x="190" y="153" fill="#2c3e50">+ student_id: int</text>
    <text x="190" y="168" fill="#2c3e50">+ courses: []</text>
    <text x="190" y="183" fill="#2c3e50">+ enroll(c: Course)</text>
    
    <!-- Teacher -->
    <rect x="340" y="120" width="140" height="75" rx="5" fill="#fff8f0" stroke="#f4874b" stroke-width="2"/>
    <rect x="340" y="120" width="140" height="22" rx="5" fill="#f4874b"/>
    <text x="410" y="136" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Teacher</text>
    <text x="350" y="153" fill="#2c3e50">+ subject: String</text>
    <text x="350" y="168" fill="#2c3e50">+ courses: []</text>
    <text x="350" y="183" fill="#2c3e50">+ teach(c: Course)</text>
    
    <!-- Course -->
    <rect x="80" y="250" width="160" height="85" rx="5" fill="#f3e8ff" stroke="#7c3aed" stroke-width="2"/>
    <rect x="80" y="250" width="160" height="22" rx="5" fill="#7c3aed"/>
    <text x="160" y="266" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Course</text>
    <text x="90" y="283" fill="#2c3e50">+ code: String</text>
    <text x="90" y="298" fill="#2c3e50">+ title: String</text>
    <text x="90" y="313" fill="#2c3e50">+ students: []</text>
    <text x="90" y="328" fill="#2c3e50">+ addStudent()</text>
    
    <!-- Classroom (composition with Course) -->
    <rect x="280" y="260" width="140" height="65" rx="5" fill="#fffde7" stroke="#f4c431" stroke-width="2"/>
    <rect x="280" y="260" width="140" height="22" rx="5" fill="#f4c431"/>
    <text x="350" y="276" text-anchor="middle" font-size="12" fill="#000" font-weight="bold">Classroom</text>
    <text x="290" y="293" fill="#2c3e50">+ room_num: String</text>
    <text x="290" y="308" fill="#2c3e50">+ capacity: int</text>
    
    <!-- Assignment (dependency) -->
    <rect x="440" y="270" width="130" height="55" rx="5" fill="#fff0f0" stroke="#e63946" stroke-width="2"/>
    <rect x="440" y="270" width="130" height="22" rx="5" fill="#e63946"/>
    <text x="505" y="286" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">Assignment</text>
    <text x="450" y="303" fill="#2c3e50">+ title: String</text>
    <text x="450" y="318" fill="#2c3e50">+ due_date</text>
    
    <!-- Association: Student <-> Course -->
    <line x1="220" y1="195" x2="160" y2="250" stroke="#2c3e50" stroke-width="2"/>
    <text x="175" y="215" fill="#666" font-size="9">attends</text>
    <text x="165" y="245" fill="#666" font-size="9">1..*</text>
    <text x="215" y="200" fill="#666" font-size="9">1..*</text>
    
    <!-- Association: Teacher -> Course -->
    <line x1="380" y1="195" x2="200" y2="250" stroke="#2c3e50" stroke-width="2"/>
    <text x="270" y="215" fill="#666" font-size="9">teaches</text>
    <text x="195" y="245" fill="#666" font-size="9">1..*</text>
    <text x="375" y="200" fill="#666" font-size="9">1</text>
    
    <!-- Composition: Course â—†-> Classroom -->
    <line x1="240" y1="292" x2="280" y2="292" stroke="#2c3e50" stroke-width="2"/>
    <polygon points="240,292 245,287 245,297 240,292" fill="#2c3e50"/>
    <text x="250" y="288" fill="#666" font-size="9">held in</text>
    
    <!-- Dependency: Course - -> Assignment -->
    <line x1="240" y1="300" x2="440" y2="300" stroke="#2c3e50" stroke-width="2" stroke-dasharray="4,4"/>
    <polygon points="440,300 435,297 435,303" fill="#2c3e50"/>
    <text x="320" y="296" fill="#666" font-size="9">creates</text>
    
    <!-- Legend -->
    <rect x="10" y="350" width="580" height="45" rx="5" fill="#f9fafb" stroke="#94a3b8" stroke-width="1"/>
    <text x="20" y="368" font-size="10" fill="#333" font-weight="bold">Legend:</text>
    <text x="20" y="382" font-size="9" fill="#666">â–³ Inheritance | â€” Association | â—† Composition | - - > Dependency | Multiplicities: 1 (one), 1..* (one or more), 0..1 (optional)</text>
  </svg>

  <div class="exam">
    <strong>ğŸ“‹ IB Exam: "Draw a UML diagram" questions:</strong><br>
    â€¢ Show all classes as rectangles with 3 sections (name | attributes | methods)<br>
    â€¢ Draw relationships with correct arrows and labels<br>
    â€¢ Include multiplicities (1, 1..*, 0..1) on associations<br>
    â€¢ Use visibility markers: + public, - private, # protected
  </div>

  <div class="pnum">UML Relationships â€” Page 2</div>
</div>

</div>
</div>

<div class="nb-page">
  <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
  <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
  <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
  <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
  <div class="hole" style="top:775px"></div>

  <div class="page-title">ğŸ’ª Practice Questions Sandbox</div>
  <div class="page-sub">20+ auto-graded coding exercises â€” select from dropdown</div>

  <div class="info"><strong>ğŸ“Œ How to use:</strong> Select a question from the dropdown, write your code in the sandbox, click Run to test. Click "Show Solution" if you get stuck. Click "Check Answer" for auto-grading!</div>

  <!-- Question Selector -->
  <div style="background:#1a4e8a;padding:14px;border-radius:10px;margin:14px 0">
    <label style="color:#fff;font-family:'Kalam',cursive;font-size:18px;display:block;margin-bottom:8px">
      ğŸ“‹ Select Practice Question:
    </label>
    <select id="q-select" onchange="loadQuestion(this.value)" style="width:100%;padding:10px;font-size:16px;border-radius:6px;font-family:'Nunito',sans-serif">
      <option value="">-- Choose a question --</option>
      <optgroup label="ğŸ”° BEGINNER (Classes & Objects)">
        <option value="q1">Q1: Create a simple Person class with name and age</option>
        <option value="q2">Q2: Add a greet() method to Person</option>
        <option value="q3">Q3: Create a Book class with title, author, pages</option>
        <option value="q4">Q4: Add a method to check if book is long (>300 pages)</option>
        <option value="q5">Q5: Rectangle class with width, height, and area()</option>
      </optgroup>
      <optgroup label="ğŸ”µ INTERMEDIATE (Encapsulation)">
        <option value="q6">Q6: Private attributes - BankAccount with balance</option>
        <option value="q7">Q7: Getters and setters with validation</option>
        <option value="q8">Q8: Temperature class with Celsius/Fahrenheit conversion</option>
        <option value="q9">Q9: Student class with grade validation (0-100)</option>
        <option value="q10">Q10: Counter class with increment/decrement/reset</option>
      </optgroup>
      <optgroup label="ğŸŸ¢ INTERMEDIATE (Inheritance)">
        <option value="q11">Q11: Animal â†’ Dog inheritance with speak()</option>
        <option value="q12">Q12: Vehicle â†’ Car â†’ ElectricCar hierarchy</option>
        <option value="q13">Q13: Shape â†’ Circle with area() override</option>
        <option value="q14">Q14: Employee â†’ Manager with bonus</option>
        <option value="q15">Q15: Polymorphism - list of different animals</option>
      </optgroup>
      <optgroup label="ğŸŸ£ ADVANCED (Multiple Concepts)">
        <option value="q16">Q16: Library system - Book and Member classes</option>
        <option value="q17">Q17: Shopping cart with Item and Cart classes</option>
        <option value="q18">Q18: School system - Student and Course</option>
        <option value="q19">Q19: Game character hierarchy with stats</option>
        <option value="q20">Q20: Banking system with Account types</option>
      </optgroup>
      <optgroup label="ğŸ”´ EXPERT (Complex Scenarios)">
        <option value="q21">Q21: Social media - User, Post, Comment</option>
        <option value="q22">Q22: E-commerce - Product, Cart, Order</option>
        <option value="q23">Q23: Restaurant - MenuItem, Order, Table</option>
      </optgroup>
    </select>
  </div>

  <!-- Question Display Area -->
  <div id="q-display" style="display:none">
    <div class="chal">
      <div class="chal-hd"><span>ğŸ¯</span><span id="q-title">Question Title</span></div>
      <div class="chal-bd">
        <div id="q-desc">Question description</div>
        <div class="exp" id="q-expected" style="display:none">
<span style="color:#2d9e5f;font-weight:bold"># Expected Output:</span>
<span id="q-exp-text"></span>
        </div>
      </div>
    </div>

    <!-- Sandbox -->
    <div class="sb" id="sb-practice">
      <div class="sb-hd">
        <div class="dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sb-title">âœï¸ Your Solution</div>
      </div>
      <div class="sb-ed"><textarea class="ce" id="sb-practice-code" style="min-height:250px"># Write your code here
</textarea></div>
      <div class="sb-ctrl">
        <button class="rb" onclick="runSB('sb-practice')">â–¶ Run Code</button>
        <button class="rst" onclick="resetQuestion()">â†º Reset</button>
        <button class="sol" onclick="toggleQSol()">ğŸ’¡ Show Solution</button>
        <button class="mk-btn" onclick="checkAnswer()" style="background:#7c3aed;margin:0">âœ… Check Answer</button>
      </div>
      <div class="sb-out" id="sb-practice-out"><span style="color:#4a5568">â–¸ Output appears here...</span></div>
    </div>

    <!-- Solution (hidden by default) -->
    <div id="q-solution" class="sol-box">
      <div style="background:#7c3aed;color:#fff;padding:10px 15px;border-radius:8px 8px 0 0;font-family:'Kalam',cursive;font-size:18px">
        ğŸ’¡ Model Solution
      </div>
      <div class="cb2" id="q-sol-code" style="border-radius:0 0 8px 8px">
# Solution will appear here
      </div>
    </div>

    <!-- Answer Feedback -->
    <div id="q-feedback" style="display:none;padding:14px;border-radius:8px;margin:10px 0;font-size:17px"></div>
  </div>

  <div class="pnum">B3.2 â€” Practice Sandbox</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PRACTICE & MARK SCHEME
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="s-practice" class="section">
  <div class="top-nav">
    <label for="r-home"  class="nav-btn nb-home">ğŸ  Home</label>
    <label for="r-b32p3" class="nav-btn nb-back">â† Sandbox</label>
    <span class="nb-title">âœï¸ IB-Style Practice Questions</span>
  </div>
  <div class="page-wrap">

  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">âœï¸ IB-Style Practice Questions</div>
    <div class="page-sub">Auto-marked MCQs + Reveal-answer written questions</div>

    <h2>ğŸ“ Section A â€” Multiple Choice (auto-marked)</h2>

    <!-- MCQ 1 -->
    <div class="qbox">
      <h3>Q1. Which OOP concept describes the bundling of data and methods into a single unit? [1 mark]</h3>
      <div class="q-options">
        <label><input type="radio" name="pa1" value="a"> A. Polymorphism</label>
        <label><input type="radio" name="pa1" value="b"> B. Inheritance</label>
        <label><input type="radio" name="pa1" value="c"> C. Encapsulation</label>
        <label><input type="radio" name="pa1" value="d"> D. Abstraction</label>
      </div>
      <button class="check-q-btn" onclick="checkMCQ('pa1','c','pa1_fb','Encapsulation bundles data (attributes) and behaviour (methods) into a class, and restricts direct access to internal data.')">Check</button>
      <div class="q-feedback" id="pa1_fb"></div>
    </div>

    <!-- MCQ 2 -->
    <div class="qbox">
      <h3>Q2. In Python, what is the purpose of the <code>super()</code> function? [1 mark]</h3>
      <div class="q-options">
        <label><input type="radio" name="pa2" value="a"> A. Creates a superclass automatically</label>
        <label><input type="radio" name="pa2" value="b"> B. Calls the parent class constructor or method</label>
        <label><input type="radio" name="pa2" value="c"> C. Makes a method override impossible</label>
        <label><input type="radio" name="pa2" value="d"> D. Converts an object to a supertype</label>
      </div>
      <button class="check-q-btn" onclick="checkMCQ('pa2','b','pa2_fb','super() gives access to the parent class methods and constructor. It is used in __init__ to call the parent initialiser and avoid code duplication.')">Check</button>
      <div class="q-feedback" id="pa2_fb"></div>
    </div>

    <!-- MCQ 3 -->
    <div class="qbox">
      <h3>Q3. A <code>Rectangle</code> class inherits from <code>Shape</code>. Which statement is correct? [1 mark]</h3>
      <div class="q-options">
        <label><input type="radio" name="pa3" value="a"> A. Shape inherits from Rectangle</label>
        <label><input type="radio" name="pa3" value="b"> B. Rectangle has access to Shape's public/protected methods</label>
        <label><input type="radio" name="pa3" value="c"> C. Rectangle and Shape share the same attributes</label>
        <label><input type="radio" name="pa3" value="d"> D. Rectangle can only use methods defined in itself</label>
      </div>
      <button class="check-q-btn" onclick="checkMCQ('pa3','b','pa3_fb','A subclass inherits all public and protected members from the superclass. Rectangle IS-A Shape, so it can use all of Shape\'s public/protected methods.')">Check</button>
      <div class="q-feedback" id="pa3_fb"></div>
    </div>

    <!-- MCQ 4 -->
    <div class="qbox">
      <h3>Q4. What does method overriding achieve? [1 mark]</h3>
      <div class="q-options">
        <label><input type="radio" name="pa4" value="a"> A. Prevents a method from being called</label>
        <label><input type="radio" name="pa4" value="b"> B. Allows a subclass to provide its own implementation of an inherited method</label>
        <label><input type="radio" name="pa4" value="c"> C. Creates a new method with the same name in a different class hierarchy</label>
        <label><input type="radio" name="pa4" value="d"> D. Copies a method from one class to another</label>
      </div>
      <button class="check-q-btn" onclick="checkMCQ('pa4','b','pa4_fb','Method overriding is when a subclass defines a method with the same name as one in the parent class, providing specialised behaviour. This enables polymorphism.')">Check</button>
      <div class="q-feedback" id="pa4_fb"></div>
    </div>

    <!-- MCQ 5 -->
    <div class="qbox">
      <h3>Q5. What will the following output?<br><code>class A:<br>&nbsp;&nbsp;x = 10<br>a1 = A(); A.x = 20; print(a1.x)</code> [1 mark]</h3>
      <div class="q-options">
        <label><input type="radio" name="pa5" value="a"> A. 10</label>
        <label><input type="radio" name="pa5" value="b"> B. 20</label>
        <label><input type="radio" name="pa5" value="c"> C. Error</label>
        <label><input type="radio" name="pa5" value="d"> D. None</label>
      </div>
      <button class="check-q-btn" onclick="checkMCQ('pa5','b','pa5_fb','x is a class attribute. Changing A.x = 20 affects ALL instances that haven\'t overridden it with their own instance attribute. a1.x looks up the class attribute and finds 20.')">Check</button>
      <div class="q-feedback" id="pa5_fb"></div>
    </div>

    <div class="pnum">Practice â€” Page 1</div>
  </div>

  <!-- Written Questions page -->
  <div class="nb-page">
    <div class="hole" style="top:55px"></div><div class="hole" style="top:145px"></div>
    <div class="hole" style="top:235px"></div><div class="hole" style="top:325px"></div>
    <div class="hole" style="top:415px"></div><div class="hole" style="top:505px"></div>
    <div class="hole" style="top:595px"></div><div class="hole" style="top:685px"></div>
    <div class="hole" style="top:775px"></div>

    <div class="page-title">ğŸ“‹ Section B â€” Written Questions &amp; Mark Scheme</div>

    <div class="qbox">
      <h3>Q6. Define the term "class" in the context of OOP. [2 marks]</h3>
      <input type="checkbox" class="reveal-tog" id="rev6">
      <label for="rev6" class="reveal-lbl">Reveal Mark Scheme</label>
      <div class="reveal-content">
        <strong>[1 mark]</strong> A class is a template/blueprint that defines the attributes (data) and methods (behaviours) that objects of that type will have.<br>
        <strong>[1 mark]</strong> A class is defined once, but multiple objects (instances) can be created from it, each holding their own data.
      </div>
    </div>

    <div class="qbox">
      <h3>Q7. Distinguish between encapsulation and abstraction. [4 marks]</h3>
      <input type="checkbox" class="reveal-tog" id="rev7">
      <label for="rev7" class="reveal-lbl">Reveal Mark Scheme</label>
      <div class="reveal-content">
        <strong>Encapsulation [2 marks]:</strong><br>
        â€¢ Bundling of data and methods into a single unit (class).<br>
        â€¢ Restricting direct access to internal data using access modifiers (public/private/protected).<br><br>
        <strong>Abstraction [2 marks]:</strong><br>
        â€¢ Showing only essential features and hiding implementation details from the user.<br>
        â€¢ Users interact with a simplified interface; internal complexity is hidden.<br><br>
        <em>Key distinction: Encapsulation is about HOW data is protected; abstraction is about WHAT is exposed to the user.</em>
      </div>
    </div>

    <div class="qbox">
      <h3>Q8. The following Python code creates a class hierarchy. Identify an example of: (a) inheritance, (b) method overriding, (c) polymorphism. [3 marks]</h3>
      <div class="code" style="margin:10px 0"><span class="ck">class</span> <span class="cm">Employee</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, salary):
        <span class="ck">self</span>.name = name; <span class="ck">self</span>.salary = salary
    <span class="ck">def</span> <span class="cfu">get_pay</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="ck">self</span>.salary

<span class="ck">class</span> <span class="cm">Manager</span>(<span class="cm">Employee</span>):
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, salary, bonus):
        <span class="ck">super</span>().__init__(name, salary)
        <span class="ck">self</span>.bonus = bonus
    <span class="ck">def</span> <span class="cfu">get_pay</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="ck">self</span>.salary + <span class="ck">self</span>.bonus

staff = [<span class="cm">Employee</span>(<span class="cs">"Alice"</span>,<span class="cn">50000</span>), <span class="cm">Manager</span>(<span class="cs">"Bob"</span>,<span class="cn">60000</span>,<span class="cn">10000</span>)]
<span class="ck">for</span> e <span class="ck">in</span> staff: <span class="ck">print</span>(e.get_pay())</div>
      <input type="checkbox" class="reveal-tog" id="rev8">
      <label for="rev8" class="reveal-lbl">Reveal Mark Scheme</label>
      <div class="reveal-content">
        <strong>(a) Inheritance [1]:</strong> <code>class Manager(Employee)</code> â€” Manager inherits from Employee, gaining access to name and salary attributes and the original get_pay() method.<br><br>
        <strong>(b) Method overriding [1]:</strong> Manager defines its own <code>get_pay()</code> method, replacing the inherited one. It returns salary + bonus instead of just salary.<br><br>
        <strong>(c) Polymorphism [1]:</strong> The loop <code>for e in staff: print(e.get_pay())</code> calls <code>get_pay()</code> on both Employee and Manager objects. The same method call produces different results depending on the object type (50000 for Alice, 70000 for Bob).
      </div>
    </div>

    <div class="qbox">
      <h3>Q9. Write Python code to define a <code>Person</code> class with private attributes <code>__name</code> and <code>__age</code>, appropriate getter methods, and a method <code>greet()</code> that prints a greeting. Create two Person objects and call greet() on each. [6 marks]</h3>
      <input type="checkbox" class="reveal-tog" id="rev9">
      <label for="rev9" class="reveal-lbl">Reveal Mark Scheme</label>
      <div class="reveal-content">
        <strong>[1] Class definition with correct syntax</strong><br>
        <strong>[1] __init__ with self, name, age parameters</strong><br>
        <strong>[1] Private attributes using double underscore (__name, __age)</strong><br>
        <strong>[1] Correct getter methods (get_name, get_age returning private attributes)</strong><br>
        <strong>[1] greet() method using self to access attributes</strong><br>
        <strong>[1] Two object instantiations and greet() called on both</strong><br><br>
        <div class="code" style="font-size:13px"><span class="ck">class</span> <span class="cm">Person</span>:
    <span class="ck">def</span> <span class="cfu">__init__</span>(<span class="ck">self</span>, name, age):
        <span class="ck">self</span>.__name = name
        <span class="ck">self</span>.__age = age
    <span class="ck">def</span> <span class="cfu">get_name</span>(<span class="ck">self</span>): <span class="ck">return</span> <span class="ck">self</span>.__name
    <span class="ck">def</span> <span class="cfu">get_age</span>(<span class="ck">self</span>):  <span class="ck">return</span> <span class="ck">self</span>.__age
    <span class="ck">def</span> <span class="cfu">greet</span>(<span class="ck">self</span>):
        <span class="ck">print</span>(<span class="cst">f"Hello, I am </span>{<span class="ck">self</span>.__name}<span class="cst">, aged </span>{<span class="ck">self</span>.__age}<span class="cst">."</span>)

p1 = <span class="cm">Person</span>(<span class="cs">"Alice"</span>, <span class="cn">17</span>)
p2 = <span class="cm">Person</span>(<span class="cs">"Bob"</span>, <span class="cn">16</span>)
p1.greet()   <span class="cc"># Hello, I am Alice, aged 17.</span>
p2.greet()   <span class="cc"># Hello, I am Bob, aged 16.</span></div>
      </div>
    </div>

    <!-- Final sandbox for practice -->
    <div class="sandbox" id="sb8">
      <div class="sandbox-header">
        <div class="sandbox-dots"><span class="d1"></span><span class="d2"></span><span class="d3"></span></div>
        <div class="sandbox-title">âœï¸ Q9 â€” Try It Yourself</div>
      </div>
      <div class="sandbox-editor">
        <textarea class="code-editor" id="sb8-code">class Person:
    def __init__(self, name, age):
        # Add private attributes here
        pass
    
    def get_name(self):
        pass
    
    def get_age(self):
        pass
    
    def greet(self):
        pass

# Create two Person objects and call greet() on each
p1 = Person("Alice", 17)
p2 = Person("Bob", 16)
p1.greet()
p2.greet()</textarea>
      </div>
      <div class="sandbox-controls">
        <button class="run-btn" onclick="runCode('sb8')">â–¶ Run Code</button>
      </div>
      <div class="sandbox-output" id="sb8-output">
        <div class="output-label">â–¸ Output will appear here...</div>
      </div>
    </div>

    <div class="finish-box">
      <h2>ğŸ“ B3.1 &amp; B3.2 Complete!</h2>
      <p style="font-size:20px;margin:12px 0;opacity:.9">You've covered all core OOP concepts for IB DP CS</p>
      <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:16px">
        <span class="score-badge">ğŸ”’ Encapsulation</span>
        <span class="score-badge">ğŸ­ Abstraction</span>
        <span class="score-badge">ğŸ§¬ Inheritance</span>
        <span class="score-badge">ğŸ¨ Polymorphism</span>
        <span class="score-badge">ğŸ“¦ Classes &amp; Objects</span>
        <span class="score-badge">âš™ï¸ Methods</span>
        <span class="score-badge">ğŸ“Š Trace Tables</span>
        <span class="score-badge">ğŸ Python Practice</span>
      </div>
      <div style="margin-top:20px">
        <label for="r-home" class="nav-btn nb-home nb-lg" style="background:white;color:#0f4c75">ğŸ  Back to Home</label>
      </div>
    </div>

    <div class="pnum">Practice â€” Page 2</div>
  </div>

  </div>
</div>


</div><!-- .app -->

<script>
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// SKULPT PYTHON RUNNER
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
function _skulptRun(code, outputEl, isMain) {
  if (!window._skulptReady || typeof Sk === 'undefined') {
    var enc = encodeURIComponent(code);
    var url = 'https://www.online-python.com/';
    outputEl.innerHTML =
      '<span style="color:#f38ba8;font-weight:bold">â–¸ Python runner could not load from CDN.</span>\n' +
      '<span style="color:#cdd6f4">Copy your code and paste it into an online runner:</span>\n' +
      '<a href="' + url + '" target="_blank" style="color:#89b4fa;text-decoration:underline">â–¸ Open online-python.com â†—</a>';
    return;
  }
  var outputText = '';
  function outf(text) { outputText += text; }
  function builtinRead(x) {
    if (Sk.builtinFiles === undefined || Sk.builtinFiles['files'][x] === undefined)
      throw "File not found: '" + x + "'";
    return Sk.builtinFiles['files'][x];
  }
  Sk.configure({ output: outf, read: builtinRead, execLimit: 10000 });
  Sk.misceval.asyncToPromise(function() {
    return Sk.importMainWithBody('<stdin>', false, code, true);
  }).then(function() {
    var out = (outputText || '(no output)').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    if (isMain) {
      outputEl.innerHTML = '<div class="output-label">â–¸ Output:</div><div class="output-ok">' + out + '</div>';
    } else {
      outputEl.innerHTML = '<span style="color:#a6e3a1">â–¸ Output:</span>\n' + out;
    }
  }).catch(function(err) {
    var e = String(err).replace(/</g,'&lt;').replace(/>/g,'&gt;');
    if (isMain) {
      outputEl.innerHTML = '<div class="output-label">â–¸ Error:</div><div class="output-error">' + e + '</div>';
    } else {
      outputEl.innerHTML = '<span style="color:#f38ba8">â–¸ Error:</span>\n' + e;
    }
  });
}

function runCode(sandboxId) {
  var codeEl = document.getElementById(sandboxId + '-code');
  var output = document.getElementById(sandboxId + '-output');
  if (!codeEl || !output) return;
  output.innerHTML = '<div class="output-label">â–¸ Running...</div>';
  _skulptRun(codeEl.value, output, true);
}

// runSB: used by bonus sections (Array, Duck, Patterns, UML, Practice)
// Reads from id + '-code', writes to id + '-out'
function runSB(sandboxId) {
  var codeEl = document.getElementById(sandboxId + '-code');
  var output = document.getElementById(sandboxId + '-out');
  if (!codeEl || !output) {
    console.error('runSB: could not find elements for', sandboxId);
    return;
  }
  output.innerHTML = '<span style="color:#f9e2af">â–¸ Running...</span>';
  _skulptRun(codeEl.value, output, false);
}

function resetCode(sandboxId, template) {
  const defaults = {
    'default1': document.getElementById('sb1-code').defaultValue,
    'challenge1': document.getElementById('sb2-code').defaultValue,
  };
  // just reload page content
  document.getElementById(sandboxId + '-output').innerHTML = '<div class="output-label">â–¸ Output will appear here...</div>';
}

function showSolution(id) {
  const el = document.getElementById(id);
  el.style.display = el.style.display === 'none' ? 'block' : 'none';
}

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// MCQ CHECKER
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
function checkMCQ(name, correct, feedbackId, explanation) {
  const selected = document.querySelector(`input[name="${name}"]:checked`);
  const fb = document.getElementById(feedbackId);
  if (!selected) {
    fb.className = 'q-feedback show qf-err';
    fb.textContent = 'âš ï¸ Please select an answer first!';
    return;
  }
  if (selected.value === correct) {
    fb.className = 'q-feedback show qf-ok';
    fb.innerHTML = 'âœ… Correct! ' + explanation;
  } else {
    fb.className = 'q-feedback show qf-err';
    fb.innerHTML = 'âŒ Not quite. ' + explanation;
  }
}

// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// TRACE TABLE MARKER
// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
function markCell(inputId, expected) {
  const el = document.getElementById(inputId);
  if (!el) return 0;
  const val = el.value.trim().toLowerCase();
  const exp = String(expected).toLowerCase().trim();
  if (val === exp || val.replace(/\s/g,'') === exp.replace(/\s/g,'')) {
    el.classList.add('correct');
    el.classList.remove('wrong');
    return 1;
  } else {
    el.classList.add('wrong');
    el.classList.remove('correct');
    el.placeholder = exp;
    return 0;
  }
}

function checkTrace1() {
  let score = 0;
  score += markCell('t1_r1', '5');
  score += markCell('t1_r2', '6');
  score += markCell('t1_r3', '9');
  score += markCell('t1_r4', 'Count: 9');
  score += markCell('t1_r5', '0');
  score += markCell('t1_r6', '2');
  score += markCell('t1_r7', 'Count: 2');

  const total = 7;
  const el = document.getElementById('trace1-score');
  el.innerHTML = `Score: <strong>${score}/${total}</strong> ${score === total ? 'ğŸ‰ Perfect!' : score >= 5 ? 'âœ… Good!' : 'ğŸ“ Review the missed cells'}`;
  el.style.color = score === total ? '#27ae60' : score >= 5 ? '#e67e22' : '#e74c3c';
}

function checkTrace2() {
  let score = 0;
  score += markCell('t2_r1a', '3');
  score += markCell('t2_r1b', '4');
  score += markCell('t2_r2a', '5');
  score += markCell('t2_r2b', '2');
  score += markCell('t2_r3', '12');
  score += markCell('t2_r4', '6');
  score += markCell('t2_r5', '24');
  score += markCell('t2_r6', '10');

  const total = 8;
  const el = document.getElementById('trace2-score');
  el.innerHTML = `Score: <strong>${score}/${total}</strong> ${score === total ? 'ğŸ‰ Perfect!' : score >= 6 ? 'âœ… Good!' : 'ğŸ“ Check wrong cells (shown in red)'}`;
  el.style.color = score === total ? '#27ae60' : score >= 6 ? '#e67e22' : '#e74c3c';
}

// Handle tab in textareas
document.addEventListener('keydown', function(e) {
  if (e.key === 'Tab' && e.target.classList.contains('code-editor')) {
    e.preventDefault();
    const start = e.target.selectionStartd = e.target.selectionEnd;
    e.target.value = e.target.value.substring(0, start) + '    ' + e.target.value.substring(end);
    e.target.selectionStart = e.target.selectionEnd = start + 4;
  }
});


// Practice Questions Database
const practiceQuestions = {
  q1: {
    title: "Q1: Create a Person class",
    desc: "Create a class called <code>Person</code> with:<br>â€¢ Attributes: <code>name</code> and <code>age</code><br>â€¢ A method <code>display()</code> that prints: \"Name: [name], Age: [age]\"<br><br>Then create a Person object with name=\"Alice\" and age=25, and call display().",
    expected: "Name: Alice, Age: 25",
    starter: `class Person:
    # TODO: Add __init__ method
    
    # TODO: Add display() method
    pass

# Test your code:
p = Person("Alice", 25)
p.display()`,
    solution: `class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def display(self):
        print(f"Name: {self.name}, Age: {self.age}")

p = Person("Alice", 25)
p.display()`,
    check: (output) => output.includes("Alice") && output.includes("25")
  },
  
  q2: {
    title: "Q2: Add a greet() method",
    desc: "Extend the Person class with a <code>greet()</code> method that prints: \"Hello, my name is [name] and I'm [age] years old!\"",
    expected: "Hello, my name is Bob and I'm 30 years old!",
    starter: `class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    # TODO: Add greet() method here
    
# Test:
p = Person("Bob", 30)
p.greet()`,
    solution: `class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def greet(self):
        print(f"Hello, my name is {self.name} and I'm {self.age} years old!")

p = Person("Bob", 30)
p.greet()`,
    check: (output) => output.includes("Hello") && output.includes("Bob") && output.includes("30")
  },
  
  q3: {
    title: "Q3: Book class",
    desc: "Create a <code>Book</code> class with:<br>â€¢ Attributes: <code>title</code>, <code>author</code>, <code>pages</code><br>â€¢ Method <code>info()</code> that prints: \"[title] by [author] ([pages] pages)\"",
    expected: "1984 by George Orwell (328 pages)",
    starter: `class Book:
    # TODO: Complete the class
    pass

# Test:
b = Book("1984", "George Orwell", 328)
b.info()`,
    solution: `class Book:
    def __init__(self, title, author, pages):
        self.title = title
        self.author = author
        self.pages = pages
    
    def info(self):
        print(f"{self.title} by {self.author} ({self.pages} pages)")

b = Book("1984", "George Orwell", 328)
b.info()`,
    check: (output) => output.includes("1984") && output.includes("Orwell") && output.includes("328")
  },
  
  q4: {
    title: "Q4: Book - is_long() method",
    desc: "Add an <code>is_long()</code> method to Book that returns True if pages > 300, else False. Test with two books.",
    expected: "1984 is long: True\nAnimal Farm is long: False",
    starter: `class Book:
    def __init__(self, title, author, pages):
        self.title = title
        self.author = author
        self.pages = pages
    
    # TODO: Add is_long() method
    
# Test:
b1 = Book("1984", "Orwell", 328)
b2 = Book("Animal Farm", "Orwell", 112)
print(f"{b1.title} is long: {b1.is_long()}")
print(f"{b2.title} is long: {b2.is_long()}")`,
    solution: `class Book:
    def __init__(self, title, author, pages):
        self.title = title
        self.author = author
        self.pages = pages
    
    def is_long(self):
        return self.pages > 300

b1 = Book("1984", "Orwell", 328)
b2 = Book("Animal Farm", "Orwell", 112)
print(f"{b1.title} is long: {b1.is_long()}")
print(f"{b2.title} is long: {b2.is_long()}")`,
    check: (output) => output.includes("True") && output.includes("False")
  },
  
  q5: {
    title: "Q5: Rectangle with area()",
    desc: "Create a <code>Rectangle</code> class with width and height, plus an <code>area()</code> method that returns width Ã— height.",
    expected: "Area: 24",
    starter: `class Rectangle:
    # TODO: Complete
    pass

# Test:
r = Rectangle(6, 4)
print(f"Area: {r.area()}")`,
    solution: `class Rectangle:
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    def area(self):
        return self.width * self.height

r = Rectangle(6, 4)
print(f"Area: {r.area()}")`,
    check: (output) => output.includes("24")
  },
  
  q6: {
    title: "Q6: BankAccount with private balance",
    desc: "Create <code>BankAccount</code> with:<br>â€¢ Private attribute <code>__balance</code><br>â€¢ <code>deposit(amount)</code> - adds to balance<br>â€¢ <code>get_balance()</code> - returns balance",
    expected: "Balance: 1500",
    starter: `class BankAccount:
    def __init__(self, initial):
        # TODO: Make balance private
        pass
    
    # TODO: Add deposit() and get_balance()

# Test:
acc = BankAccount(1000)
acc.deposit(500)
print(f"Balance: {acc.get_balance()}")`,
    solution: `class BankAccount:
    def __init__(self, initial):
        self.__balance = initial
    
    def deposit(self, amount):
        self.__balance += amount
    
    def get_balance(self):
        return self.__balance

acc = BankAccount(1000)
acc.deposit(500)
print(f"Balance: {acc.get_balance()}")`,
    check: (output) => output.includes("1500")
  },
  
  q7: {
    title: "Q7: Getter/Setter with validation",
    desc: "Create <code>Product</code> with private <code>__price</code>. Add <code>set_price(p)</code> that only sets price if p > 0, else prints error. Add <code>get_price()</code>.",
    expected: "Price must be positive!\nPrice: 99.99",
    starter: `class Product:
    def __init__(self, name, price):
        self.name = name
        # TODO: Make price private and validate
    
    # TODO: Add set_price() with validation
    # TODO: Add get_price()

p = Product("Laptop", 99.99)
p.set_price(-50)  # Should print error
p.set_price(99.99)
print(f"Price: {p.get_price()}")`,
    solution: `class Product:
    def __init__(self, name, price):
        self.name = name
        self.__price = price if price > 0 else 0
    
    def set_price(self, p):
        if p > 0:
            self.__price = p
        else:
            print("Price must be positive!")
    
    def get_price(self):
        return self.__price

p = Product("Laptop", 99.99)
p.set_price(-50)
p.set_price(99.99)
print(f"Price: {p.get_price()}")`,
    check: (output) => output.includes("positive") && output.includes("99.99")
  },
  
  q8: {
    title: "Q8: Temperature converter",
    desc: "Create <code>Temperature</code> with private <code>__celsius</code>. Add <code>get_fahrenheit()</code> that returns celsius Ã— 9/5 + 32.",
    expected: "0Â°C = 32.0Â°F\n100Â°C = 212.0Â°F",
    starter: `class Temperature:
    # TODO: Complete
    pass

# Test:
t1 = Temperature(0)
t2 = Temperature(100)
print(f"0Â°C = {t1.get_fahrenheit()}Â°F")
print(f"100Â°C = {t2.get_fahrenheit()}Â°F")`,
    solution: `class Temperature:
    def __init__(self, celsius):
        self.__celsius = celsius
    
    def get_fahrenheit(self):
        return self.__celsius * 9/5 + 32

t1 = Temperature(0)
t2 = Temperature(100)
print(f"0Â°C = {t1.get_fahrenheit()}Â°F")
print(f"100Â°C = {t2.get_fahrenheit()}Â°F")`,
    check: (output) => output.includes("32") && output.includes("212")
  },
  
  q9: {
    title: "Q9: Student with grade validation",
    desc: "Create <code>Student</code> with name and private <code>__grade</code>. Add <code>set_grade(g)</code> that only accepts 0-100. Add <code>get_letter()</code> returning A/B/C/D/F.",
    expected: "Alice: 87 = B\nInvalid grade!\nBob: 62 = D",
    starter: `class Student:
    # TODO: Complete with validation
    pass

# Test:
s1 = Student("Alice", 87)
print(f"{s1.name}: {s1.get_grade()} = {s1.get_letter()}")
s1.set_grade(150)  # Should print error
s2 = Student("Bob", 62)
print(f"{s2.name}: {s2.get_grade()} = {s2.get_letter()}")`,
    solution: `class Student:
    def __init__(self, name, grade):
        self.name = name
        self.__grade = grade if 0 <= grade <= 100 else 0
    
    def set_grade(self, g):
        if 0 <= g <= 100:
            self.__grade = g
        else:
            print("Invalid grade!")
    
    def get_grade(self):
        return self.__grade
    
    def get_letter(self):
        if self.__grade >= 90: return "A"
        elif self.__grade >= 80: return "B"
        elif self.__grade >= 70: return "C"
        elif self.__grade >= 60: return "D"
        else: return "F"

s1 = Student("Alice", 87)
print(f"{s1.name}: {s1.get_grade()} = {s1.get_letter()}")
s1.set_grade(150)
s2 = Student("Bob", 62)
print(f"{s2.name}: {s2.get_grade()} = {s2.get_letter()}")`,
    check: (output) => output.includes("Invalid") && output.includes("B") && output.includes("D")
  },
  
  q10: {
    title: "Q10: Counter class",
    desc: "Create <code>Counter</code> with private <code>__count</code> starting at 0. Add <code>increment()</code>, <code>decrement()</code>, <code>reset()</code>, and <code>get_value()</code>.",
    expected: "1\n2\n1\n0",
    starter: `class Counter:
    # TODO: Complete
    pass

c = Counter()
c.increment()
print(c.get_value())
c.increment()
print(c.get_value())
c.decrement()
print(c.get_value())
c.reset()
print(c.get_value())`,
    solution: `class Counter:
    def __init__(self):
        self.__count = 0
    
    def increment(self):
        self.__count += 1
    
    def decrement(self):
        self.__count -= 1
    
    def reset(self):
        self.__count = 0
    
    def get_value(self):
        return self.__count

c = Counter()
c.increment()
print(c.get_value())
c.increment()
print(c.get_value())
c.decrement()
print(c.get_value())
c.reset()
print(c.get_value())`,
    check: (output) => {
      const lines = output.trim().split('\n');
      return lines.includes('1') && lines.includes('2') && lines.includes('0');
    }
  },
  
  q11: {
    title: "Q11: Animal â†’ Dog inheritance",
    desc: "Create <code>Animal</code> with name attribute and <code>speak()</code> method. Create <code>Dog</code> that inherits and overrides speak() to print \"Woof!\".",
    expected: "Generic sound\nWoof!",
    starter: `class Animal:
    # TODO: Complete base class
    pass

class Dog(Animal):
    # TODO: Override speak()
    pass

a = Animal("Generic")
a.speak()
d = Dog("Rex")
d.speak()`,
    solution: `class Animal:
    def __init__(self, name):
        self.name = name
    
    def speak(self):
        print("Generic sound")

class Dog(Animal):
    def speak(self):
        print("Woof!")

a = Animal("Generic")
a.speak()
d = Dog("Rex")
d.speak()`,
    check: (output) => output.includes("Generic") && output.includes("Woof")
  },
  
  q12: {
    title: "Q12: Vehicle hierarchy",
    desc: "Create <code>Vehicle</code> â†’ <code>Car</code> â†’ <code>ElectricCar</code> hierarchy. Each adds one attribute (brand â†’ doors â†’ range). ElectricCar should have a <code>describe()</code> method showing all attributes.",
    expected: "Tesla - 4 doors - 500km range",
    starter: `class Vehicle:
    # TODO: Complete
    pass

class Car(Vehicle):
    # TODO: Inherit and extend
    pass

class ElectricCar(Car):
    # TODO: Inherit and extend
    pass

ec = ElectricCar("Tesla", 4, 500)
ec.describe()`,
    solution: `class Vehicle:
    def __init__(self, brand):
        self.brand = brand

class Car(Vehicle):
    def __init__(self, brand, doors):
        super().__init__(brand)
        self.doors = doors

class ElectricCar(Car):
    def __init__(self, brand, doors, range_km):
        super().__init__(brand, doors)
        self.range_km = range_km
    
    def describe(self):
        print(f"{self.brand} - {self.doors} doors - {self.range_km}km range")

ec = ElectricCar("Tesla", 4, 500)
ec.describe()`,
    check: (output) => output.includes("Tesla") && output.includes("4") && output.includes("500")
  },
  
  q13: {
    title: "Q13: Shape â†’ Circle",
    desc: "Create <code>Shape</code> base class with <code>area()</code> returning 0. Create <code>Circle</code> that overrides area() to return Ï€ Ã— radiusÂ². Use <code>import math</code>.",
    expected: "Area: 78.5",
    starter: `import math

class Shape:
    # TODO: Base class
    pass

class Circle(Shape):
    # TODO: Override area()
    pass

c = Circle(5)
print(f"Area: {c.area():.1f}")`,
    solution: `import math

class Shape:
    def area(self):
        return 0

class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius
    
    def area(self):
        return math.pi * self.radius ** 2

c = Circle(5)
print(f"Area: {c.area():.1f}")`,
    check: (output) => output.includes("78.5")
  },
  
  q14: {
    title: "Q14: Employee â†’ Manager",
    desc: "Create <code>Employee</code> with name, salary. Create <code>Manager</code> that adds bonus and overrides <code>get_pay()</code> to return salary + bonus.",
    expected: "Alice: 50000\nBob: 70000",
    starter: `class Employee:
    # TODO: Complete
    pass

class Manager(Employee):
    # TODO: Add bonus
    pass

e = Employee("Alice", 50000)
print(f"{e.name}: {e.get_pay()}")
m = Manager("Bob", 60000, 10000)
print(f"{m.name}: {m.get_pay()}")`,
    solution: `class Employee:
    def __init__(self, name, salary):
        self.name = name
        self.salary = salary
    
    def get_pay(self):
        return self.salary

class Manager(Employee):
    def __init__(self, name, salary, bonus):
        super().__init__(name, salary)
        self.bonus = bonus
    
    def get_pay(self):
        return self.salary + self.bonus

e = Employee("Alice", 50000)
print(f"{e.name}: {e.get_pay()}")
m = Manager("Bob", 60000, 10000)
print(f"{m.name}: {m.get_pay()}")`,
    check: (output) => output.includes("50000") && output.includes("70000")
  },
  
  q15: {
    title: "Q15: Polymorphism demo",
    desc: "Create Animal, Dog, Cat classes with speak() method. Create a list with all three types and call speak() on each in a loop (polymorphism).",
    expected: "...\nWoof!\nMeow!",
    starter: `class Animal:
    def speak(self): print("...")

class Dog(Animal):
    # TODO: Override speak()
    pass

class Cat(Animal):
    # TODO: Override speak()
    pass

animals = [Animal(), Dog(), Cat()]
# TODO: Loop and call speak() on each`,
    solution: `class Animal:
    def speak(self): print("...")

class Dog(Animal):
    def speak(self): print("Woof!")

class Cat(Animal):
    def speak(self): print("Meow!")

animals = [Animal(), Dog(), Cat()]
for a in animals:
    a.speak()`,
    check: (output) => output.includes("...") && output.includes("Woof") && output.includes("Meow")
  },
  
  q16: {
    title: "Q16: Library - Book and Member",
    desc: "Create <code>Book</code> (title, available=True) and <code>Member</code> (name, borrowed=[]). Add <code>borrow(book)</code> to Member that sets book.available=False and adds to borrowed list.",
    expected: "Book available: False\nAlice borrowed: ['1984']",
    starter: `class Book:
    # TODO
    pass

class Member:
    # TODO
    pass

b = Book("1984")
m = Member("Alice")
m.borrow(b)
print(f"Book available: {b.available}")
print(f"Alice borrowed: {m.borrowed}")`,
    solution: `class Book:
    def __init__(self, title):
        self.title = title
        self.available = True

class Member:
    def __init__(self, name):
        self.name = name
        self.borrowed = []
    
    def borrow(self, book):
        if book.available:
            book.available = False
            self.borrowed.append(book.title)

b = Book("1984")
m = Member("Alice")
m.borrow(b)
print(f"Book available: {b.available}")
print(f"Alice borrowed: {m.borrowed}")`,
    check: (output) => output.includes("False") && output.includes("1984")
  },
  
  q17: {
    title: "Q17: Shopping Cart",
    desc: "Create <code>Item</code> (name, price) and <code>Cart</code> (items=[]). Add <code>add(item)</code> and <code>total()</code> to Cart.",
    expected: "Total: 29.98",
    starter: `class Item:
    # TODO
    pass

class Cart:
    # TODO
    pass

cart = Cart()
cart.add(Item("Apple", 1.99))
cart.add(Item("Bread", 2.99))
cart.add(Item("Milk", 25.00))
print(f"Total: {cart.total()}")`,
    solution: `class Item:
    def __init__(self, name, price):
        self.name = name
        self.price = price

class Cart:
    def __init__(self):
        self.items = []
    
    def add(self, item):
        self.items.append(item)
    
    def total(self):
        return sum(item.price for item in self.items)

cart = Cart()
cart.add(Item("Apple", 1.99))
cart.add(Item("Bread", 2.99))
cart.add(Item("Milk", 25.00))
print(f"Total: {cart.total()}")`,
    check: (output) => output.includes("29.98")
  },
  
  q18: {
    title: "Q18: School - Student and Course",
    desc: "Create <code>Student</code> (name, courses=[]) and <code>Course</code> (code, title). Add <code>enroll(course)</code> to Student that adds course code to courses list.",
    expected: "Alice enrolled in: ['CS101', 'MATH201']",
    starter: `class Student:
    # TODO
    pass

class Course:
    # TODO
    pass

s = Student("Alice")
s.enroll(Course("CS101", "Intro to CS"))
s.enroll(Course("MATH201", "Calculus"))
print(f"Alice enrolled in: {s.courses}")`,
    solution: `class Student:
    def __init__(self, name):
        self.name = name
        self.courses = []
    
    def enroll(self, course):
        self.courses.append(course.code)

class Course:
    def __init__(self, code, title):
        self.code = code
        self.title = title

s = Student("Alice")
s.enroll(Course("CS101", "Intro to CS"))
s.enroll(Course("MATH201", "Calculus"))
print(f"Alice enrolled in: {s.courses}")`,
    check: (output) => output.includes("CS101") && output.includes("MATH201")
  },
  
  q19: {
    title: "Q19: Game Character with stats",
    desc: "Create <code>Character</code> (name, hp=100) with <code>take_damage(dmg)</code> and <code>is_alive()</code>. Create <code>Warrior</code> subclass with <code>armor</code> that reduces damage by armor amount.",
    expected: "HP: 70\nHP: 85\nAlive: True",
    starter: `class Character:
    # TODO
    pass

class Warrior(Character):
    # TODO: Reduce damage by armor
    pass

c = Character("Mage")
c.take_damage(30)
print(f"HP: {c.hp}")

w = Warrior("Knight", armor=10)
w.take_damage(25)  # 25 - 10 armor = 15 damage
print(f"HP: {w.hp}")
print(f"Alive: {w.is_alive()}")`,
    solution: `class Character:
    def __init__(self, name, hp=100):
        self.name = name
        self.hp = hp
    
    def take_damage(self, dmg):
        self.hp -= dmg
    
    def is_alive(self):
        return self.hp > 0

class Warrior(Character):
    def __init__(self, name, armor=0, hp=100):
        super().__init__(name, hp)
        self.armor = armor
    
    def take_damage(self, dmg):
        actual_dmg = max(0, dmg - self.armor)
        self.hp -= actual_dmg

c = Character("Mage")
c.take_damage(30)
print(f"HP: {c.hp}")

w = Warrior("Knight", armor=10)
w.take_damage(25)
print(f"HP: {w.hp}")
print(f"Alive: {w.is_alive()}")`,
    check: (output) => output.includes("70") && output.includes("85") && output.includes("True")
  },
  
  q20: {
    title: "Q20: Banking - Account types",
    desc: "Create <code>Account</code> (balance) with <code>withdraw()</code>. Create <code>SavingsAccount</code> with <code>interest_rate</code> and <code>add_interest()</code> method.",
    expected: "Balance: 900\nSavings: 1050.0",
    starter: `class Account:
    # TODO
    pass

class SavingsAccount(Account):
    # TODO: Add interest rate and add_interest()
    pass

a = Account(1000)
a.withdraw(100)
print(f"Balance: {a.balance}")

s = SavingsAccount(1000, 0.05)
s.add_interest()
print(f"Savings: {s.balance}")`,
    solution: `class Account:
    def __init__(self, balance):
        self.balance = balance
    
    def withdraw(self, amount):
        self.balance -= amount

class SavingsAccount(Account):
    def __init__(self, balance, interest_rate):
        super().__init__(balance)
        self.interest_rate = interest_rate
    
    def add_interest(self):
        self.balance += self.balance * self.interest_rate

a = Account(1000)
a.withdraw(100)
print(f"Balance: {a.balance}")

s = SavingsAccount(1000, 0.05)
s.add_interest()
print(f"Savings: {s.balance}")`,
    check: (output) => output.includes("900") && output.includes("1050")
  },
  
  q21: {
    title: "Q21: Social Media - User, Post",
    desc: "Create <code>User</code> (username, posts=[]) and <code>Post</code> (content, likes=0). Add <code>create_post(content)</code> to User and <code>like()</code> to Post.",
    expected: "Alice has 2 posts\nLikes: 1",
    starter: `class User:
    # TODO
    pass

class Post:
    # TODO
    pass

u = User("Alice")
u.create_post("Hello world!")
u.create_post("Python is great")
print(f"Alice has {len(u.posts)} posts")
u.posts[0].like()
print(f"Likes: {u.posts[0].likes}")`,
    solution: `class User:
    def __init__(self, username):
        self.username = username
        self.posts = []
    
    def create_post(self, content):
        self.posts.append(Post(content))

class Post:
    def __init__(self, content):
        self.content = content
        self.likes = 0
    
    def like(self):
        self.likes += 1

u = User("Alice")
u.create_post("Hello world!")
u.create_post("Python is great")
print(f"Alice has {len(u.posts)} posts")
u.posts[0].like()
print(f"Likes: {u.posts[0].likes}")`,
    check: (output) => output.includes("2 posts") && output.includes("Likes: 1")
  },
  
  q22: {
    title: "Q22: E-commerce - Product, Order",
    desc: "Create <code>Product</code> (name, price, stock) with <code>reduce_stock(qty)</code>. Create <code>Order</code> (products=[]) with <code>add(product, qty)</code> and <code>total()</code>.",
    expected: "Stock: 5\nOrder total: 39.98",
    starter: `class Product:
    # TODO
    pass

class Order:
    # TODO
    pass

p = Product("Widget", 19.99, 10)
order = Order()
order.add(p, 2)
print(f"Stock: {p.stock}")
print(f"Order total: {order.total()}")`,
    solution: `class Product:
    def __init__(self, name, price, stock):
        self.name = name
        self.price = price
        self.stock = stock
    
    def reduce_stock(self, qty):
        self.stock -= qty

class Order:
    def __init__(self):
        self.products = []
    
    def add(self, product, qty):
        product.reduce_stock(qty)
        self.products.append((product, qty))
    
    def total(self):
        return sum(p.price * qty for p, qty in self.products)

p = Product("Widget", 19.99, 10)
order = Order()
order.add(p, 2)
print(f"Stock: {p.stock}")
print(f"Order total: {order.total()}")`,
    check: (output) => output.includes("Stock: 8") && output.includes("39.98")
  },
  
  q23: {
    title: "Q23: Restaurant - MenuItem, Order, Table",
    desc: "Create <code>MenuItem</code> (name, price), <code>Order</code> (items=[]), and <code>Table</code> (number, order=None). Add methods to add items and calculate bill.",
    expected: "Table 5 bill: 25.50",
    starter: `class MenuItem:
    # TODO
    pass

class Order:
    # TODO: Add add_item() and total()
    pass

class Table:
    # TODO
    pass

table = Table(5)
table.order = Order()
table.order.add_item(MenuItem("Burger", 12.50))
table.order.add_item(MenuItem("Fries", 5.00))
table.order.add_item(MenuItem("Soda", 8.00))
print(f"Table {table.number} bill: {table.order.total()}")`,
    solution: `class MenuItem:
    def __init__(self, name, price):
        self.name = name
        self.price = price

class Order:
    def __init__(self):
        self.items = []
    
    def add_item(self, item):
        self.items.append(item)
    
    def total(self):
        return sum(item.price for item in self.items)

class Table:
    def __init__(self, number):
        self.number = number
        self.order = None

table = Table(5)
table.order = Order()
table.order.add_item(MenuItem("Burger", 12.50))
table.order.add_item(MenuItem("Fries", 5.00))
table.order.add_item(MenuItem("Soda", 8.00))
print(f"Table {table.number} bill: {table.order.total()}")`,
    check: (output) => output.includes("Table 5") && output.includes("25.5")
  }
};

let currentQuestion = null;

function loadQuestion(qid) {
  if (!qid) {
    document.getElementById('q-display').style.display = 'none';
    return;
  }
  
  const q = practiceQuestions[qid];
  if (!q) return;
  
  currentQuestion = q;
  
  document.getElementById('q-display').style.display = 'block';
  document.getElementById('q-title').innerHTML = q.title;
  document.getElementById('q-desc').innerHTML = q.desc;
  document.getElementById('sb-practice-code').value = q.starter;
  document.getElementById('q-solution').style.display = 'none';
  document.getElementById('q-sol-code').textContent = q.solution;
  document.getElementById('q-feedback').style.display = 'none';
  document.getElementById('sb-practice-out').innerHTML = '<span style="color:#4a5568">â–¸ Output appears here...</span>';
  
  if (q.expected) {
    document.getElementById('q-expected').style.display = 'block';
    document.getElementById('q-exp-text').textContent = q.expected;
  } else {
    document.getElementById('q-expected').style.display = 'none';
  }
  
  // Scroll to question
  document.getElementById('q-display').scrollIntoView({behavior: 'smooth', block: 'start'});
}

function resetQuestion() {
  if (currentQuestion) {
    document.getElementById('sb-practice-code').value = currentQuestion.starter;
    document.getElementById('sb-practice-out').innerHTML = '<span style="color:#4a5568">â–¸ Output appears here...</span>';
    document.getElementById('q-feedback').style.display = 'none';
  }
}

function toggleQSol() {
  const sol = document.getElementById('q-solution');
  sol.style.display = sol.style.display === 'none' ? 'block' : 'none';
}

function checkAnswer() {
  if (!currentQuestion) return;
  
  const output = document.getElementById('sb-practice-out').textContent.trim();
  const feedback = document.getElementById('q-feedback');
  
  if (output === 'â–¸ Output appears here...' || output === '') {
    feedback.style.display = 'block';
    feedback.style.background = '#fff8f0';
    feedback.style.border = '2px solid #f4874b';
    feedback.style.color = '#8b4513';
    feedback.innerHTML = 'âš ï¸ Please run your code first before checking the answer!';
    return;
  }
  
  const passed = currentQuestion.check(output);
  
  feedback.style.display = 'block';
  if (passed) {
    feedback.style.background = '#d4f5e2';
    feedback.style.border = '2px solid #2d9e5f';
    feedback.style.color = '#1a5c38';
    feedback.innerHTML = 'âœ… <strong>Correct!</strong> Your code produces the expected output. Well done!';
  } else {
    feedback.style.background = '#fdecea';
    feedback.style.border = '2px solid #e63946';
    feedback.style.color = '#8b1c22';
    feedback.innerHTML = 'âŒ <strong>Not quite.</strong> Check your output against the expected output. Try again or click "Show Solution" if you\'re stuck.';
  }
}


</script>
</body>
</html>